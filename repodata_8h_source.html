<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>satsolver: src/repodata.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="dir_4422304925a660d7ad9b44d0ebab103c.html">src</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>repodata.h</h1>  </div>
</div>
<div class="contents">
<a href="repodata_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * Copyright (c) 2007, Novell Inc.</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * This program is licensed under the BSD license, read LICENSE.BSD</span>
<a name="l00005"></a>00005 <span class="comment"> * for further information</span>
<a name="l00006"></a>00006 <span class="comment"> */</span>
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 <span class="comment">/*</span>
<a name="l00009"></a>00009 <span class="comment"> * repodata.h</span>
<a name="l00010"></a>00010 <span class="comment"> * </span>
<a name="l00011"></a>00011 <span class="comment"> */</span>
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 <span class="preprocessor">#ifndef SATSOLVER_REPODATA_H</span>
<a name="l00014"></a>00014 <span class="preprocessor"></span><span class="preprocessor">#define SATSOLVER_REPODATA_H</span>
<a name="l00015"></a>00015 <span class="preprocessor"></span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &lt;stdio.h&gt;</span> 
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 <span class="preprocessor">#include &quot;<a class="code" href="pooltypes_8h.html">pooltypes.h</a>&quot;</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &quot;<a class="code" href="pool_8h.html">pool.h</a>&quot;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &quot;<a class="code" href="dirpool_8h.html">dirpool.h</a>&quot;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &quot;<a class="code" href="repopage_8h.html">repopage.h</a>&quot;</span>
<a name="l00022"></a>00022 
<a name="l00023"></a><a class="code" href="repodata_8h.html#a5c3f95ef734000e0f9a167aa2e390a33">00023</a> <span class="preprocessor">#define SIZEOF_MD5      16</span>
<a name="l00024"></a><a class="code" href="repodata_8h.html#a7d087c766cdf987542703f6a8bd4fb00">00024</a> <span class="preprocessor"></span><span class="preprocessor">#define SIZEOF_SHA1     20</span>
<a name="l00025"></a><a class="code" href="repodata_8h.html#a30455a95b24a21e7ef22e021d7b530bf">00025</a> <span class="preprocessor"></span><span class="preprocessor">#define SIZEOF_SHA256   32</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span>
<a name="l00027"></a>00027 <span class="keyword">struct </span><a class="code" href="struct__Repo.html">_Repo</a>;
<a name="l00028"></a>00028 <span class="keyword">struct </span><a class="code" href="struct__KeyValue.html">_KeyValue</a>;
<a name="l00029"></a>00029 
<a name="l00030"></a><a class="code" href="struct__Repokey.html">00030</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__Repokey.html">_Repokey</a> {
<a name="l00031"></a><a class="code" href="struct__Repokey.html#a8db2eceba48d61804428086a7e0ef9fd">00031</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="struct__Repokey.html#a8db2eceba48d61804428086a7e0ef9fd">name</a>;
<a name="l00032"></a><a class="code" href="struct__Repokey.html#a882a88f813ace5b37108fc92612ca799">00032</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="struct__Repokey.html#a882a88f813ace5b37108fc92612ca799">type</a>;               <span class="comment">/* REPOKEY_TYPE_xxx */</span>
<a name="l00033"></a><a class="code" href="struct__Repokey.html#ae1c5436eda2cb1a3f44b6e17067899f1">00033</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct__Repokey.html#ae1c5436eda2cb1a3f44b6e17067899f1">size</a>;
<a name="l00034"></a><a class="code" href="struct__Repokey.html#ae2b91eb95cea4f8f945f001a60646422">00034</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct__Repokey.html#ae2b91eb95cea4f8f945f001a60646422">storage</a>; <span class="comment">/* KEY_STORAGE_xxx */</span>
<a name="l00035"></a>00035 } <a class="code" href="struct__Repokey.html">Repokey</a>;
<a name="l00036"></a>00036 
<a name="l00037"></a><a class="code" href="repodata_8h.html#ab2fb0ad342f839a3fdf0f1bfda1d1547">00037</a> <span class="preprocessor">#define KEY_STORAGE_DROPPED             0</span>
<a name="l00038"></a><a class="code" href="repodata_8h.html#a7fa51f8e521aa65dd27bf42dcd283109">00038</a> <span class="preprocessor"></span><span class="preprocessor">#define KEY_STORAGE_SOLVABLE            1</span>
<a name="l00039"></a><a class="code" href="repodata_8h.html#ab0e8438d08a3f5b23d3d36649f73f0b7">00039</a> <span class="preprocessor"></span><span class="preprocessor">#define KEY_STORAGE_INCORE              2</span>
<a name="l00040"></a><a class="code" href="repodata_8h.html#a67f01cde1ce42eadda50aadd628a6c8e">00040</a> <span class="preprocessor"></span><span class="preprocessor">#define KEY_STORAGE_VERTICAL_OFFSET     3</span>
<a name="l00041"></a>00041 <span class="preprocessor"></span>
<a name="l00042"></a>00042 
<a name="l00043"></a><a class="code" href="struct__Repodata.html">00043</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__Repodata.html">_Repodata</a> {
<a name="l00044"></a><a class="code" href="struct__Repodata.html#ad31405e80e3f4aabc3969fe5e8592caf">00044</a>   <span class="keyword">struct </span><a class="code" href="struct__Repo.html">_Repo</a> *<a class="code" href="struct__Repodata.html#ad31405e80e3f4aabc3969fe5e8592caf">repo</a>;           <span class="comment">/* back pointer to repo */</span>
<a name="l00045"></a>00045 
<a name="l00046"></a><a class="code" href="repodata_8h.html#a42abbea04c61883c3880501a2d724444">00046</a> <span class="preprocessor">#define REPODATA_AVAILABLE      0</span>
<a name="l00047"></a><a class="code" href="repodata_8h.html#a68732bafa34a020866e3bd001bbf5198">00047</a> <span class="preprocessor"></span><span class="preprocessor">#define REPODATA_STUB           1</span>
<a name="l00048"></a><a class="code" href="repodata_8h.html#a250156a70e89da397622285493d6efa2">00048</a> <span class="preprocessor"></span><span class="preprocessor">#define REPODATA_ERROR          2</span>
<a name="l00049"></a><a class="code" href="repodata_8h.html#ab702f76442c66c2a420a27102b2281c0">00049</a> <span class="preprocessor"></span><span class="preprocessor">#define REPODATA_STORE          3</span>
<a name="l00050"></a><a class="code" href="repodata_8h.html#a1312c85d55a5fa9228492cfeef66668d">00050</a> <span class="preprocessor"></span><span class="preprocessor">#define REPODATA_LOADING        4</span>
<a name="l00051"></a>00051 <span class="preprocessor"></span>
<a name="l00052"></a><a class="code" href="struct__Repodata.html#ada7d689e033d72b0891d6767f30513fa">00052</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Repodata.html#ada7d689e033d72b0891d6767f30513fa">state</a>;                    <span class="comment">/* available, stub or error */</span>
<a name="l00053"></a>00053 
<a name="l00054"></a><a class="code" href="struct__Repodata.html#a1863f023efa2398cd5999023e6963065">00054</a>   void (*<a class="code" href="struct__Repodata.html#a1863f023efa2398cd5999023e6963065">loadcallback</a>)(<span class="keyword">struct </span><a class="code" href="struct__Repodata.html">_Repodata</a> *);
<a name="l00055"></a>00055 
<a name="l00056"></a><a class="code" href="struct__Repodata.html#a4511574292e484437fd7eca03f74b41f">00056</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Repodata.html#a4511574292e484437fd7eca03f74b41f">start</a>;                    <span class="comment">/* start of solvables this repodata is valid for */</span>
<a name="l00057"></a><a class="code" href="struct__Repodata.html#a79054fe8102a97d5b6f79470764a281d">00057</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Repodata.html#a79054fe8102a97d5b6f79470764a281d">end</a>;                      <span class="comment">/* last solvable + 1 of this repodata */</span>
<a name="l00058"></a>00058 
<a name="l00059"></a><a class="code" href="struct__Repodata.html#aa5c124481775bbfc515a3bb422e20e4a">00059</a>   FILE *<a class="code" href="struct__Repodata.html#aa5c124481775bbfc515a3bb422e20e4a">fp</a>;                     <span class="comment">/* file pointer of solv file */</span>
<a name="l00060"></a><a class="code" href="struct__Repodata.html#a7403c99b6b35e22b030748429bbd2e7f">00060</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Repodata.html#a7403c99b6b35e22b030748429bbd2e7f">error</a>;                    <span class="comment">/* corrupt solv file */</span>
<a name="l00061"></a>00061 
<a name="l00062"></a><a class="code" href="struct__Repodata.html#afadb4fd1a071d5d5a29ac7561c9766d4">00062</a>   <a class="code" href="struct__Repokey.html">Repokey</a> *<a class="code" href="struct__Repodata.html#afadb4fd1a071d5d5a29ac7561c9766d4">keys</a>;                <span class="comment">/* keys, first entry is always zero */</span>
<a name="l00063"></a><a class="code" href="struct__Repodata.html#a099b77c06a605b39b224d43251adfe1b">00063</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct__Repodata.html#a099b77c06a605b39b224d43251adfe1b">nkeys</a>;           <span class="comment">/* length of keys array */</span>
<a name="l00064"></a><a class="code" href="struct__Repodata.html#aab291a4b4564d57da86f1829c6cea397">00064</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct__Repodata.html#aab291a4b4564d57da86f1829c6cea397">keybits</a>[32];    <span class="comment">/* keyname hash */</span>
<a name="l00065"></a>00065 
<a name="l00066"></a><a class="code" href="struct__Repodata.html#a74afd032d75a2229b799efe0902e2940">00066</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> *<a class="code" href="struct__Repodata.html#a74afd032d75a2229b799efe0902e2940">schemata</a>;                 <span class="comment">/* schema -&gt; offset into schemadata */</span>
<a name="l00067"></a><a class="code" href="struct__Repodata.html#a4548c5215dd2db5323d546e5fe52a046">00067</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct__Repodata.html#a4548c5215dd2db5323d546e5fe52a046">nschemata</a>;       <span class="comment">/* number of schemata */</span>
<a name="l00068"></a><a class="code" href="struct__Repodata.html#a85266a40db5a566c526664c77adec570">00068</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> *<a class="code" href="struct__Repodata.html#a85266a40db5a566c526664c77adec570">schemadata</a>;               <span class="comment">/* schema storage */</span>
<a name="l00069"></a><a class="code" href="struct__Repodata.html#a11197806ac4ef51f2a0e53215ec9fcae">00069</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct__Repodata.html#a11197806ac4ef51f2a0e53215ec9fcae">schemadatalen</a>;   <span class="comment">/* schema storage size */</span>
<a name="l00070"></a><a class="code" href="struct__Repodata.html#ad49b35b22169a1465b25afe7025397f6">00070</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> *<a class="code" href="struct__Repodata.html#ad49b35b22169a1465b25afe7025397f6">schematahash</a>;             <span class="comment">/* unification helper */</span>
<a name="l00071"></a>00071 
<a name="l00072"></a><a class="code" href="struct__Repodata.html#a7ef4842f155ec4128e39d71284459383">00072</a>   <a class="code" href="struct__Stringpool.html">Stringpool</a> <a class="code" href="struct__Repodata.html#a7ef4842f155ec4128e39d71284459383">spool</a>;             <span class="comment">/* local string pool */</span>
<a name="l00073"></a><a class="code" href="struct__Repodata.html#ab8a9609e3952d09489ca2b61473afdbb">00073</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Repodata.html#ab8a9609e3952d09489ca2b61473afdbb">localpool</a>;                <span class="comment">/* is local string pool used */</span>
<a name="l00074"></a>00074 
<a name="l00075"></a><a class="code" href="struct__Repodata.html#aae19b05ba2da163a3cd86e3a6cc8366e">00075</a>   <a class="code" href="struct__Dirpool.html">Dirpool</a> <a class="code" href="struct__Repodata.html#aae19b05ba2da163a3cd86e3a6cc8366e">dirpool</a>;              <span class="comment">/* local dir pool */</span>
<a name="l00076"></a>00076 
<a name="l00077"></a><a class="code" href="struct__Repodata.html#a00b8cbc67478813b4aa17381f042deba">00077</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="struct__Repodata.html#a00b8cbc67478813b4aa17381f042deba">incoredata</a>;    <span class="comment">/* in-core data */</span>
<a name="l00078"></a><a class="code" href="struct__Repodata.html#aaf5b94495941b53923f3b2267eaf591a">00078</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct__Repodata.html#aaf5b94495941b53923f3b2267eaf591a">incoredatalen</a>;   <span class="comment">/* in-core data used */</span>
<a name="l00079"></a><a class="code" href="struct__Repodata.html#ab8c9ef36673d929739f8d8f8521dfae2">00079</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct__Repodata.html#ab8c9ef36673d929739f8d8f8521dfae2">incoredatafree</a>;  <span class="comment">/* free data len */</span>
<a name="l00080"></a>00080 
<a name="l00081"></a><a class="code" href="struct__Repodata.html#a81ff9df36714217e21969c69bcf0587f">00081</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="struct__Repodata.html#a81ff9df36714217e21969c69bcf0587f">mainschema</a>;                <span class="comment">/* SOLVID_META schema */</span>
<a name="l00082"></a><a class="code" href="struct__Repodata.html#ac9bb072f5c665ff7f82a364ad285a6d2">00082</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> *<a class="code" href="struct__Repodata.html#ac9bb072f5c665ff7f82a364ad285a6d2">mainschemaoffsets</a>;        <span class="comment">/* SOLVID_META offsets into incoredata */</span>
<a name="l00083"></a>00083 
<a name="l00084"></a><a class="code" href="struct__Repodata.html#a9cb2aca4ba13e5ae96e8abc159a2b45c">00084</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> *<a class="code" href="struct__Repodata.html#a9cb2aca4ba13e5ae96e8abc159a2b45c">incoreoffset</a>;             <span class="comment">/* offset for all entries */</span>
<a name="l00085"></a>00085 
<a name="l00086"></a><a class="code" href="struct__Repodata.html#a47d0a61220644dc968fbe8d9041ad3d0">00086</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> *<a class="code" href="struct__Repodata.html#a47d0a61220644dc968fbe8d9041ad3d0">verticaloffset</a>;           <span class="comment">/* offset for all verticals, nkeys elements */</span>
<a name="l00087"></a><a class="code" href="struct__Repodata.html#ac050abf9ae807d994d5151f6a22b7c98">00087</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="struct__Repodata.html#ac050abf9ae807d994d5151f6a22b7c98">lastverticaloffset</a>;        <span class="comment">/* end of verticals */</span>
<a name="l00088"></a>00088 
<a name="l00089"></a><a class="code" href="struct__Repodata.html#a113137114fabb8455b51679000ab7b4f">00089</a>   <a class="code" href="struct__Repopagestore.html">Repopagestore</a> <a class="code" href="struct__Repodata.html#a113137114fabb8455b51679000ab7b4f">store</a>;          <span class="comment">/* our page store */</span>
<a name="l00090"></a>00090 
<a name="l00091"></a><a class="code" href="struct__Repodata.html#a7a8dbf5f666a851b2d20a195a38f429d">00091</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="struct__Repodata.html#a7a8dbf5f666a851b2d20a195a38f429d">vincore</a>;       <span class="comment">/* internal vertical data */</span>
<a name="l00092"></a><a class="code" href="struct__Repodata.html#ad76f22741fda42ac2ef8e053a8d2f58c">00092</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct__Repodata.html#ad76f22741fda42ac2ef8e053a8d2f58c">vincorelen</a>;      <span class="comment">/* data size */</span>
<a name="l00093"></a>00093 
<a name="l00094"></a><a class="code" href="struct__Repodata.html#a35b75d3bae0fc7bb52949b4f101cd21a">00094</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> **<a class="code" href="struct__Repodata.html#a35b75d3bae0fc7bb52949b4f101cd21a">attrs</a>;                   <span class="comment">/* un-internalized attributes */</span>
<a name="l00095"></a><a class="code" href="struct__Repodata.html#adf98e2006d15e4f9c5965fbd5ee88a96">00095</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> **<a class="code" href="struct__Repodata.html#adf98e2006d15e4f9c5965fbd5ee88a96">xattrs</a>;                  <span class="comment">/* anonymous handles */</span>
<a name="l00096"></a><a class="code" href="struct__Repodata.html#a5493c3a259ede5cc9fdf617e420079ab">00096</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Repodata.html#a5493c3a259ede5cc9fdf617e420079ab">nxattrs</a>;                  <span class="comment">/* number of handles */</span>
<a name="l00097"></a>00097 
<a name="l00098"></a><a class="code" href="struct__Repodata.html#a33f39d71e3c0237b97445ebaa86df4df">00098</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="struct__Repodata.html#a33f39d71e3c0237b97445ebaa86df4df">attrdata</a>;      <span class="comment">/* their string data space */</span>
<a name="l00099"></a><a class="code" href="struct__Repodata.html#a6d8d4d22e1e040ee87411c8efdb8bad8">00099</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct__Repodata.html#a6d8d4d22e1e040ee87411c8efdb8bad8">attrdatalen</a>;     <span class="comment">/* its len */</span>
<a name="l00100"></a><a class="code" href="struct__Repodata.html#a4e4aee9f99226b41bcdd96873faeae56">00100</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> *<a class="code" href="struct__Repodata.html#a4e4aee9f99226b41bcdd96873faeae56">attriddata</a>;               <span class="comment">/* their id space */</span>
<a name="l00101"></a><a class="code" href="struct__Repodata.html#a6732dc7c0590ef19fd518bc56cacf393">00101</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct__Repodata.html#a6732dc7c0590ef19fd518bc56cacf393">attriddatalen</a>;   <span class="comment">/* its len */</span>
<a name="l00102"></a>00102 
<a name="l00103"></a>00103   <span class="comment">/* array cache to speed up repodata_add functions*/</span>
<a name="l00104"></a><a class="code" href="struct__Repodata.html#a9f5251d34f3f2ee76da5e9548413e506">00104</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="struct__Repodata.html#a9f5251d34f3f2ee76da5e9548413e506">lasthandle</a>;
<a name="l00105"></a><a class="code" href="struct__Repodata.html#ab6577208e2e85904c9ef04b8540ccb03">00105</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="struct__Repodata.html#ab6577208e2e85904c9ef04b8540ccb03">lastkey</a>;
<a name="l00106"></a><a class="code" href="struct__Repodata.html#a8486f2996986bbc2c7b434d4d2b2a491">00106</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="struct__Repodata.html#a8486f2996986bbc2c7b434d4d2b2a491">lastdatalen</a>;
<a name="l00107"></a>00107 
<a name="l00108"></a>00108 } <a class="code" href="struct__Repodata.html">Repodata</a>;
<a name="l00109"></a>00109 
<a name="l00110"></a><a class="code" href="repodata_8h.html#af14939da8f462cf22a17d1fa7d4fe2f1">00110</a> <span class="preprocessor">#define SOLVID_META             -1</span>
<a name="l00111"></a><a class="code" href="repodata_8h.html#a0ef5f441da792e7d3eafa46d97c389db">00111</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVID_POS              -2</span>
<a name="l00112"></a><a class="code" href="repodata_8h.html#a35ceca16e8cac92d1876ffc57836b6ec">00112</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVID_SUBSCHEMA        -3              </span><span class="comment">/* internal! */</span>
<a name="l00113"></a>00113 
<a name="l00114"></a>00114 
<a name="l00115"></a>00115 <span class="comment">/*-----</span>
<a name="l00116"></a>00116 <span class="comment"> * management functions</span>
<a name="l00117"></a>00117 <span class="comment"> */</span>
<a name="l00118"></a>00118 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#a0c9267b0728b39de9e5bcc83be4e88e4">repodata_initdata</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <span class="keyword">struct</span> <a class="code" href="struct__Repo.html">_Repo</a> *<a class="code" href="struct__Repodata.html#ad31405e80e3f4aabc3969fe5e8592caf">repo</a>, <span class="keywordtype">int</span> <a class="code" href="struct__Repodata.html#ab8a9609e3952d09489ca2b61473afdbb">localpool</a>);
<a name="l00119"></a>00119 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#aea5e899c92a4713735bfc4777a4e51ad">repodata_freedata</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data);
<a name="l00120"></a>00120 
<a name="l00121"></a>00121 <a class="code" href="struct__Repodata.html">Repodata</a> *<a class="code" href="repodata_8c.html#addf4560fabb6428d0e62938a7de768db">repodata_create</a>(<span class="keyword">struct</span> <a class="code" href="struct__Repo.html">_Repo</a> *<a class="code" href="struct__Repodata.html#ad31405e80e3f4aabc3969fe5e8592caf">repo</a>, <span class="keywordtype">int</span> <a class="code" href="struct__Repodata.html#ab8a9609e3952d09489ca2b61473afdbb">localpool</a>);
<a name="l00122"></a>00122 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#a99ae62c35cc03a9b58ac1f80b665cdad">repodata_free</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data);
<a name="l00123"></a>00123 
<a name="l00124"></a>00124 
<a name="l00125"></a>00125 <span class="comment">/*</span>
<a name="l00126"></a>00126 <span class="comment"> * key management functions</span>
<a name="l00127"></a>00127 <span class="comment"> */</span>
<a name="l00128"></a>00128 <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="repodata_8c.html#ad9f83fe4cec137b311353b3547f2f9c1">repodata_key2id</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="struct__Repokey.html">Repokey</a> *key, <span class="keywordtype">int</span> create);
<a name="l00129"></a>00129 <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="struct__Repokey.html">Repokey</a> *
<a name="l00130"></a><a class="code" href="repodata_8h.html#a7bc3498ecea57cf841aef7f0f317b955">00130</a> <a class="code" href="repodata_8h.html#a7bc3498ecea57cf841aef7f0f317b955">repodata_id2key</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyid)
<a name="l00131"></a>00131 {
<a name="l00132"></a>00132   <span class="keywordflow">return</span> data-&gt;<a class="code" href="struct__Repodata.html#afadb4fd1a071d5d5a29ac7561c9766d4">keys</a> + keyid;
<a name="l00133"></a>00133 }
<a name="l00134"></a>00134 
<a name="l00135"></a>00135 <span class="comment">/*</span>
<a name="l00136"></a>00136 <span class="comment"> * schema management functions</span>
<a name="l00137"></a>00137 <span class="comment"> */</span>
<a name="l00138"></a>00138 <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="repodata_8c.html#a16913938eb049753ce4c8a4167014cd4">repodata_schema2id</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> *schema, <span class="keywordtype">int</span> create);
<a name="l00139"></a>00139 <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> *
<a name="l00140"></a><a class="code" href="repodata_8h.html#a41eefa52f7f9e3a7018c6ccba24a99fc">00140</a> <a class="code" href="repodata_8h.html#a41eefa52f7f9e3a7018c6ccba24a99fc">repodata_id2schema</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> schemaid)
<a name="l00141"></a>00141 {
<a name="l00142"></a>00142   <span class="keywordflow">return</span> data-&gt;<a class="code" href="struct__Repodata.html#a85266a40db5a566c526664c77adec570">schemadata</a> + data-&gt;<a class="code" href="struct__Repodata.html#a74afd032d75a2229b799efe0902e2940">schemata</a>[schemaid];
<a name="l00143"></a>00143 }
<a name="l00144"></a>00144 
<a name="l00145"></a>00145 <span class="comment">/*</span>
<a name="l00146"></a>00146 <span class="comment"> * data search and access</span>
<a name="l00147"></a>00147 <span class="comment"> */</span>
<a name="l00148"></a>00148 
<a name="l00149"></a>00149 <span class="comment">/* check if there is a chance that the repodata contains data for</span>
<a name="l00150"></a>00150 <span class="comment"> * the specified keyname */</span>
<a name="l00151"></a>00151 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span>
<a name="l00152"></a><a class="code" href="repodata_8h.html#a1d7891ad2af22879b3095ef3db5dc1a6">00152</a> <a class="code" href="repodata_8h.html#a1d7891ad2af22879b3095ef3db5dc1a6">repodata_precheck_keyname</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyname)
<a name="l00153"></a>00153 {
<a name="l00154"></a>00154   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> x = data-&gt;<a class="code" href="struct__Repodata.html#aab291a4b4564d57da86f1829c6cea397">keybits</a>[(keyname &gt;&gt; 3) &amp; (<span class="keyword">sizeof</span>(data-&gt;<a class="code" href="struct__Repodata.html#aab291a4b4564d57da86f1829c6cea397">keybits</a>) - 1)];
<a name="l00155"></a>00155   <span class="keywordflow">return</span> x &amp;&amp; (x &amp; (1 &lt;&lt; (keyname &amp; 7))) ? 1 : 0;
<a name="l00156"></a>00156 }
<a name="l00157"></a>00157 
<a name="l00158"></a>00158 <span class="comment">/* check if the repodata contains data for the specified keyname */</span>
<a name="l00159"></a>00159 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span>
<a name="l00160"></a><a class="code" href="repodata_8h.html#af1f569a8f6dc6bbced79668ebe94b9a6">00160</a> <a class="code" href="repodata_8h.html#af1f569a8f6dc6bbced79668ebe94b9a6">repodata_has_keyname</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyname)
<a name="l00161"></a>00161 {
<a name="l00162"></a>00162   <span class="keywordtype">int</span> i;
<a name="l00163"></a>00163   <span class="keywordflow">if</span> (!<a class="code" href="repodata_8h.html#a1d7891ad2af22879b3095ef3db5dc1a6">repodata_precheck_keyname</a>(data, keyname))
<a name="l00164"></a>00164     <span class="keywordflow">return</span> 0;
<a name="l00165"></a>00165   <span class="keywordflow">for</span> (i = 1; i &lt; data-&gt;<a class="code" href="struct__Repodata.html#a099b77c06a605b39b224d43251adfe1b">nkeys</a>; i++)
<a name="l00166"></a>00166     <span class="keywordflow">if</span> (data-&gt;<a class="code" href="struct__Repodata.html#afadb4fd1a071d5d5a29ac7561c9766d4">keys</a>[i].<a class="code" href="struct__Repokey.html#a8db2eceba48d61804428086a7e0ef9fd">name</a> == keyname)
<a name="l00167"></a>00167       <span class="keywordflow">return</span> 1;
<a name="l00168"></a>00168   <span class="keywordflow">return</span> 0;
<a name="l00169"></a>00169 }
<a name="l00170"></a>00170 
<a name="l00171"></a>00171 <span class="comment">/* search key &lt;keyname&gt; (all keys, if keyname == 0) for Id &lt;solvid&gt;</span>
<a name="l00172"></a>00172 <span class="comment"> * Call &lt;callback&gt; for each match */</span>
<a name="l00173"></a>00173 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#a3ccf123b4c9958271af8a112aa030e69">repodata_search</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> solvid, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyname, <span class="keywordtype">int</span> flags, <span class="keywordtype">int</span> (*callback)(<span class="keywordtype">void</span> *cbdata, <a class="code" href="struct__Solvable.html">Solvable</a> *s, <a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="struct__Repokey.html">Repokey</a> *key, <span class="keyword">struct</span> <a class="code" href="struct__KeyValue.html">_KeyValue</a> *kv), <span class="keywordtype">void</span> *cbdata);
<a name="l00174"></a>00174 
<a name="l00175"></a>00175 <span class="comment">/* Make sure the found KeyValue has the &quot;str&quot; field set. Return false</span>
<a name="l00176"></a>00176 <span class="comment"> * if not possible */</span>
<a name="l00177"></a>00177 <span class="keywordtype">int</span> <a class="code" href="repodata_8c.html#a002e44e2048ac83b81d6c40a02e39cfb">repodata_stringify</a>(<a class="code" href="struct__Pool.html">Pool</a> *pool, <a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="struct__Repokey.html">Repokey</a> *key, <span class="keyword">struct</span> <a class="code" href="struct__KeyValue.html">_KeyValue</a> *kv, <span class="keywordtype">int</span> flags);
<a name="l00178"></a>00178 
<a name="l00179"></a>00179 <span class="keywordtype">int</span> <a class="code" href="repodata_8c.html#a2bd03007ab3bb5a49c6567710e51dc34">repodata_filelistfilter_matches</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <span class="keyword">const</span> <span class="keywordtype">char</span> *str);
<a name="l00180"></a>00180 
<a name="l00181"></a>00181 
<a name="l00182"></a>00182 <span class="comment">/* lookup functions */</span>
<a name="l00183"></a>00183 <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="repodata_8c.html#aa9b8b91350d8dea70d924cf7f56d50b1">repodata_lookup_id</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> solvid, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyname);
<a name="l00184"></a>00184 <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="repodata_8c.html#a218b2405f5c8938d90bbb20ca012b2e3">repodata_lookup_str</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> solvid, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyname);
<a name="l00185"></a>00185 <span class="keywordtype">int</span> <a class="code" href="repodata_8c.html#a3c10e38b95c289b5aec717eec6b532fa">repodata_lookup_num</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> solvid, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyname, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *value);
<a name="l00186"></a>00186 <span class="keywordtype">int</span> <a class="code" href="repodata_8c.html#a6993f0560c51e170d2e6873fc20d4955">repodata_lookup_void</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> solvid, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyname);
<a name="l00187"></a>00187 <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="repodata_8c.html#a795d89bae85c507a5e238180f662a5a4">repodata_lookup_bin_checksum</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> solvid, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyname, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> *typep);
<a name="l00188"></a>00188 <span class="keywordtype">int</span> <a class="code" href="repodata_8c.html#a31de7655b029740fffee1ae35038bd75">repodata_lookup_idarray</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> solvid, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyname, <a class="code" href="struct__Queue.html">Queue</a> *q);
<a name="l00189"></a>00189 
<a name="l00190"></a>00190 
<a name="l00191"></a>00191 <span class="comment">/*-----</span>
<a name="l00192"></a>00192 <span class="comment"> * data assignment functions</span>
<a name="l00193"></a>00193 <span class="comment"> */</span>
<a name="l00194"></a>00194 
<a name="l00195"></a>00195 <span class="comment">/*</span>
<a name="l00196"></a>00196 <span class="comment"> * extend the data so that it contains the specified solvables</span>
<a name="l00197"></a>00197 <span class="comment"> * (no longer needed, as the repodata_set functions autoextend)</span>
<a name="l00198"></a>00198 <span class="comment"> */</span>
<a name="l00199"></a>00199 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#a09aaffa2499f5634224be763bd952c9e">repodata_extend</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> p);
<a name="l00200"></a>00200 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#af37af98f405bc23b5bcd8c5418191b7e">repodata_extend_block</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> p, <span class="keywordtype">int</span> num);
<a name="l00201"></a>00201 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#ac9ecaae663c134d8168d6599b6b10629">repodata_shrink</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <span class="keywordtype">int</span> <a class="code" href="struct__Repodata.html#a79054fe8102a97d5b6f79470764a281d">end</a>);
<a name="l00202"></a>00202 
<a name="l00203"></a>00203 <span class="comment">/* internalize freshly set data, so that it is found by the search</span>
<a name="l00204"></a>00204 <span class="comment"> * functions and written out */</span>
<a name="l00205"></a>00205 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#ad2df40e846031eea046af9f5fb8467b8">repodata_internalize</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data);
<a name="l00206"></a>00206 
<a name="l00207"></a>00207 <span class="comment">/* create an anonymous handle. useful for substructures like</span>
<a name="l00208"></a>00208 <span class="comment"> * fixarray/flexarray  */</span>
<a name="l00209"></a>00209 <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="repodata_8c.html#a953cbdc26405f2bdc48bae0688d12adb">repodata_new_handle</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data);
<a name="l00210"></a>00210 
<a name="l00211"></a>00211 <span class="comment">/* basic types: void, num, string, Id */</span>
<a name="l00212"></a>00212 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#a39a25ae69c8b2b24edd886b13d6a6704">repodata_set_void</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> solvid, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyname);
<a name="l00213"></a>00213 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#ab4224ed3db760bb7290649b8cb40dd83">repodata_set_num</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> solvid, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyname, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num);
<a name="l00214"></a>00214 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#a554f75abef2ce51097d9751c88b8dcf5">repodata_set_id</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> solvid, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyname, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <span class="keywordtype">id</span>);
<a name="l00215"></a>00215 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#a86db20fb2dbb1e77df6e6acf16f82fcc">repodata_set_str</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> solvid, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyname, <span class="keyword">const</span> <span class="keywordtype">char</span> *str);
<a name="l00216"></a>00216 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#a621d5dcf573a320e870b89b6c94e4e34">repodata_set_binary</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> solvid, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyname, <span class="keywordtype">void</span> *buf, <span class="keywordtype">int</span> len);
<a name="l00217"></a>00217 <span class="comment">/* create id from string, then set_id */</span>
<a name="l00218"></a>00218 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#ab6f7bfa7d7ba3b4728a65c78074898ea">repodata_set_poolstr</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> solvid, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyname, <span class="keyword">const</span> <span class="keywordtype">char</span> *str);
<a name="l00219"></a>00219 
<a name="l00220"></a>00220 <span class="comment">/* set numeric constant */</span>
<a name="l00221"></a>00221 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#a44a22b6f1d5c91c01324da6431be913b">repodata_set_constant</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> solvid, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyname, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> constant);
<a name="l00222"></a>00222 
<a name="l00223"></a>00223 <span class="comment">/* set Id constant */</span>
<a name="l00224"></a>00224 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#a8666a129ab7ad8d0915af43168cb5bc9">repodata_set_constantid</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> solvid, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyname, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <span class="keywordtype">id</span>);
<a name="l00225"></a>00225 
<a name="l00226"></a>00226 <span class="comment">/* checksum */</span>
<a name="l00227"></a>00227 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#a9a3447c723825976531e4f0a8671cb5b">repodata_set_bin_checksum</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> solvid, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyname, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> type,
<a name="l00228"></a>00228                                <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *buf);
<a name="l00229"></a>00229 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#ac8fc5c31c499e0f883d3db8192b19170">repodata_set_checksum</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> solvid, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyname, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> type,
<a name="l00230"></a>00230                            <span class="keyword">const</span> <span class="keywordtype">char</span> *str);
<a name="l00231"></a>00231 
<a name="l00232"></a>00232 <span class="comment">/* directory (for package file list) */</span>
<a name="l00233"></a>00233 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#a8e1fd54ec14bd957c52d1fd43cc8097f">repodata_add_dirnumnum</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> solvid, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyname, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> dir, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> num, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> num2);
<a name="l00234"></a>00234 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#a16948e2e29afe98f69e379b707e243b0">repodata_add_dirstr</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> solvid, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyname, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> dir, <span class="keyword">const</span> <span class="keywordtype">char</span> *str);
<a name="l00235"></a>00235 
<a name="l00236"></a>00236 
<a name="l00237"></a>00237 <span class="comment">/* Arrays */</span>
<a name="l00238"></a>00238 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#a057be60a05140be7bd34954fa03871d3">repodata_add_idarray</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> solvid, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyname, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <span class="keywordtype">id</span>);
<a name="l00239"></a>00239 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#ac0ffb3e5c8122e20ad5907bbefc5131d">repodata_add_poolstr_array</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> solvid, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyname, <span class="keyword">const</span> <span class="keywordtype">char</span> *str);
<a name="l00240"></a>00240 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#af47943be4040e340a779638c88dce213">repodata_add_fixarray</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> solvid, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyname, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> ghandle);
<a name="l00241"></a>00241 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#a3378aa4329175cea1df9389c1e4099bd">repodata_add_flexarray</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> solvid, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyname, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> ghandle);
<a name="l00242"></a>00242 
<a name="l00243"></a>00243 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#a6ba7dc7ba26d637f2c8de9f69db2589c">repodata_delete_uninternalized</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> solvid, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> keyname);
<a name="l00244"></a>00244 
<a name="l00245"></a>00245 <span class="comment">/* </span>
<a name="l00246"></a>00246 <span class="comment"> merge attributes from one solvable to another</span>
<a name="l00247"></a>00247 <span class="comment"> works only if the data is not yet internalized</span>
<a name="l00248"></a>00248 <span class="comment">*/</span>
<a name="l00249"></a>00249 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#a3d14de18b466f48a80844c4bee5741d1">repodata_merge_attrs</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> dest, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> src);
<a name="l00250"></a>00250 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#a9b449961937694d92a5ab1968f343827">repodata_merge_some_attrs</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> dest, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> src, <a class="code" href="struct__Map.html">Map</a> *keyidmap, <span class="keywordtype">int</span> overwrite);
<a name="l00251"></a>00251 
<a name="l00252"></a>00252 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#a17f437e9b9884e429c19c5cfe004020b">repodata_create_stubs</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data);
<a name="l00253"></a>00253 <span class="keywordtype">void</span> <a class="code" href="repodata_8h.html#a8ee71e2ddf061eda0ba040b849ded03f">repodata_join</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> joinkey);
<a name="l00254"></a>00254 
<a name="l00255"></a>00255 <span class="comment">/*</span>
<a name="l00256"></a>00256 <span class="comment"> * load all paged data, used to speed up copying in repo_rpmdb</span>
<a name="l00257"></a>00257 <span class="comment"> */</span>
<a name="l00258"></a>00258 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#ae58f490ae0327404ac3c2861b4dac8dd">repodata_disable_paging</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data);
<a name="l00259"></a>00259 
<a name="l00260"></a>00260 <span class="comment">/* helper functions */</span>
<a name="l00261"></a>00261 <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="repodata_8c.html#ad4d0b25d596c26474fe112c73b2c24c8">repodata_globalize_id</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <span class="keywordtype">id</span>, <span class="keywordtype">int</span> create);
<a name="l00262"></a>00262 <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="repodata_8c.html#aa3a319b0879f88581f9737f8b26a18cc">repodata_str2dir</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <span class="keyword">const</span> <span class="keywordtype">char</span> *dir, <span class="keywordtype">int</span> create);
<a name="l00263"></a>00263 <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="repodata_8c.html#ae5a9270f87be54065da7a111e729e59c">repodata_dir2str</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> did, <span class="keyword">const</span> <span class="keywordtype">char</span> *suf);
<a name="l00264"></a>00264 <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="repodata_8c.html#a06c55f4640eac033bbd5bf9d244eba1f">repodata_chk2str</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> type, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *buf);
<a name="l00265"></a>00265 <span class="keywordtype">void</span> <a class="code" href="repodata_8c.html#a237ed3ebbc5ca38a12cd179c380ebbe7">repodata_set_location</a>(<a class="code" href="struct__Repodata.html">Repodata</a> *data, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> solvid, <span class="keywordtype">int</span> medianr, <span class="keyword">const</span> <span class="keywordtype">char</span> *dir, <span class="keyword">const</span> <span class="keywordtype">char</span> *file);
<a name="l00266"></a>00266 
<a name="l00267"></a>00267 <span class="preprocessor">#endif </span><span class="comment">/* SATSOLVER_REPODATA_H */</span>
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Sun Oct 17 2010 15:21:22 for satsolver by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
