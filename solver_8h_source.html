<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>satsolver: src/solver.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="dir_4422304925a660d7ad9b44d0ebab103c.html">src</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>solver.h</h1>  </div>
</div>
<div class="contents">
<a href="solver_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * Copyright (c) 2007, Novell Inc.</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * This program is licensed under the BSD license, read LICENSE.BSD</span>
<a name="l00005"></a>00005 <span class="comment"> * for further information</span>
<a name="l00006"></a>00006 <span class="comment"> */</span>
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 <span class="comment">/*</span>
<a name="l00009"></a>00009 <span class="comment"> * solver.h</span>
<a name="l00010"></a>00010 <span class="comment"> *</span>
<a name="l00011"></a>00011 <span class="comment"> */</span>
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 <span class="preprocessor">#ifndef SATSOLVER_SOLVER_H</span>
<a name="l00014"></a>00014 <span class="preprocessor"></span><span class="preprocessor">#define SATSOLVER_SOLVER_H</span>
<a name="l00015"></a>00015 <span class="preprocessor"></span>
<a name="l00016"></a>00016 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00017"></a>00017 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {
<a name="l00018"></a>00018 <span class="preprocessor">#endif</span>
<a name="l00019"></a>00019 <span class="preprocessor"></span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &quot;<a class="code" href="pooltypes_8h.html">pooltypes.h</a>&quot;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &quot;<a class="code" href="pool_8h.html">pool.h</a>&quot;</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &quot;<a class="code" href="repo_8h.html">repo.h</a>&quot;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &quot;<a class="code" href="queue_8h.html">queue.h</a>&quot;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &quot;<a class="code" href="bitmap_8h.html">bitmap.h</a>&quot;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &quot;<a class="code" href="transaction_8h.html">transaction.h</a>&quot;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &quot;<a class="code" href="rules_8h.html">rules.h</a>&quot;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &quot;<a class="code" href="problems_8h.html">problems.h</a>&quot;</span>
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 <span class="comment">/*</span>
<a name="l00030"></a>00030 <span class="comment"> * Callback definitions in order to &quot;overwrite&quot; the policies by an external application.</span>
<a name="l00031"></a>00031 <span class="comment"> */</span>
<a name="l00032"></a>00032  
<a name="l00033"></a><a class="code" href="solver_8h.html#a831a5430fe4d6f4e04fc59c84d748411">00033</a> <span class="keyword">typedef</span> void  (*<a class="code" href="solver_8h.html#a831a5430fe4d6f4e04fc59c84d748411">BestSolvableCb</a>) (<a class="code" href="struct__Pool.html">Pool</a> *<a class="code" href="struct__Repo.html#a6bd8127a73ebfe52aa09498f969e0b47">pool</a>, <a class="code" href="struct__Queue.html">Queue</a> *canditates);
<a name="l00034"></a><a class="code" href="solver_8h.html#a03552b0d1e3317f70a9f5b3cc8be2099">00034</a> <span class="keyword">typedef</span> int  (*<a class="code" href="solver_8h.html#a03552b0d1e3317f70a9f5b3cc8be2099">ArchCheckCb</a>) (<a class="code" href="struct__Pool.html">Pool</a> *pool, <a class="code" href="struct__Solvable.html">Solvable</a> *solvable1, <a class="code" href="struct__Solvable.html">Solvable</a> *solvable2);
<a name="l00035"></a><a class="code" href="solver_8h.html#a097d868b6159fa270ae66edbbe06bb42">00035</a> <span class="keyword">typedef</span> int  (*<a class="code" href="solver_8h.html#a097d868b6159fa270ae66edbbe06bb42">VendorCheckCb</a>) (<a class="code" href="struct__Pool.html">Pool</a> *pool, <a class="code" href="struct__Solvable.html">Solvable</a> *solvable1, <a class="code" href="struct__Solvable.html">Solvable</a> *solvable2);
<a name="l00036"></a><a class="code" href="solver_8h.html#a0b6a7220234d2fd682ac46175e09efe2">00036</a> <span class="keyword">typedef</span> void (*<a class="code" href="solver_8h.html#a0b6a7220234d2fd682ac46175e09efe2">UpdateCandidateCb</a>) (<a class="code" href="struct__Pool.html">Pool</a> *pool, <a class="code" href="struct__Solvable.html">Solvable</a> *solvable, <a class="code" href="struct__Queue.html">Queue</a> *canditates);
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="keyword">struct </span><a class="code" href="struct__Solver.html">_Solver</a>;
<a name="l00040"></a>00040 
<a name="l00041"></a><a class="code" href="struct__Solver.html">00041</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__Solver.html">_Solver</a> {
<a name="l00042"></a><a class="code" href="struct__Solver.html#aa5df779fdf9b25650a76796827daf52c">00042</a>   <a class="code" href="struct__Pool.html">Pool</a> *pool;                           <span class="comment">/* back pointer to pool */</span>
<a name="l00043"></a><a class="code" href="struct__Solver.html#a435112243fdfe7e14ceea9348578d5bd">00043</a>   <a class="code" href="struct__Queue.html">Queue</a> <a class="code" href="struct__Solver.html#a435112243fdfe7e14ceea9348578d5bd">job</a>;                            <span class="comment">/* copy of the job we&#39;re solving */</span>
<a name="l00044"></a>00044 
<a name="l00045"></a><a class="code" href="struct__Solver.html#aa509a3a1ff87e89c8475d608e45ba24a">00045</a>   <a class="code" href="struct__Transaction.html">Transaction</a> <a class="code" href="struct__Solver.html#aa509a3a1ff87e89c8475d608e45ba24a">trans</a>;                    <span class="comment">/* calculated transaction */</span>
<a name="l00046"></a>00046 
<a name="l00047"></a><a class="code" href="struct__Solver.html#a7e7a99dd14a73a3f38f17e24381c50c3">00047</a>   <a class="code" href="struct__Repo.html">Repo</a> *<a class="code" href="struct__Solver.html#a7e7a99dd14a73a3f38f17e24381c50c3">installed</a>;                      <span class="comment">/* copy of pool-&gt;installed */</span>
<a name="l00048"></a>00048   
<a name="l00049"></a>00049   <span class="comment">/* list of rules, ordered</span>
<a name="l00050"></a>00050 <span class="comment">   * rpm rules first, then features, updates, jobs, learnt</span>
<a name="l00051"></a>00051 <span class="comment">   * see start/end offsets below</span>
<a name="l00052"></a>00052 <span class="comment">   */</span>
<a name="l00053"></a><a class="code" href="struct__Solver.html#adbb8496d066269639e4b03645cd4ced5">00053</a>   <a class="code" href="struct__Rule.html">Rule</a> *<a class="code" href="struct__Solver.html#adbb8496d066269639e4b03645cd4ced5">rules</a>;                          <span class="comment">/* all rules */</span>
<a name="l00054"></a><a class="code" href="struct__Solver.html#a93ee4069027657b55a639fa96bc22388">00054</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="struct__Solver.html#a93ee4069027657b55a639fa96bc22388">nrules</a>;                            <span class="comment">/* [Offset] index of the last rule */</span>
<a name="l00055"></a>00055 
<a name="l00056"></a><a class="code" href="struct__Solver.html#ab04e3e3094d76eb873ff0be9d925b039">00056</a>   <a class="code" href="struct__Queue.html">Queue</a> <a class="code" href="struct__Solver.html#ab04e3e3094d76eb873ff0be9d925b039">ruleassertions</a>;                 <span class="comment">/* Queue of all assertion rules */</span>
<a name="l00057"></a>00057 
<a name="l00058"></a>00058   <span class="comment">/* start/end offset for rule &#39;areas&#39; */</span>
<a name="l00059"></a>00059     
<a name="l00060"></a><a class="code" href="struct__Solver.html#a0a084084df5866141b3205d380ced74a">00060</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="struct__Solver.html#a0a084084df5866141b3205d380ced74a">rpmrules_end</a>;                      <span class="comment">/* [Offset] rpm rules end */</span>
<a name="l00061"></a>00061     
<a name="l00062"></a><a class="code" href="struct__Solver.html#ae7c5ef6e7c5da7c85b89994118afd2a3">00062</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="struct__Solver.html#ae7c5ef6e7c5da7c85b89994118afd2a3">featurerules</a>;                      <span class="comment">/* feature rules start/end */</span>
<a name="l00063"></a><a class="code" href="struct__Solver.html#ad2351c2c5f3683ec3e53a52692966f18">00063</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="struct__Solver.html#ad2351c2c5f3683ec3e53a52692966f18">featurerules_end</a>;
<a name="l00064"></a>00064     
<a name="l00065"></a><a class="code" href="struct__Solver.html#a8556e5d1eb46912e7890ec154f12f526">00065</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="struct__Solver.html#a8556e5d1eb46912e7890ec154f12f526">updaterules</a>;                       <span class="comment">/* policy rules, e.g. keep packages installed or update. All literals &gt; 0 */</span>
<a name="l00066"></a><a class="code" href="struct__Solver.html#ad1b32eb261a7e50ad8bd6247fe5b40ef">00066</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="struct__Solver.html#ad1b32eb261a7e50ad8bd6247fe5b40ef">updaterules_end</a>;
<a name="l00067"></a>00067     
<a name="l00068"></a><a class="code" href="struct__Solver.html#a8de76bf18047b3259f5350b541f22800">00068</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="struct__Solver.html#a8de76bf18047b3259f5350b541f22800">jobrules</a>;                          <span class="comment">/* user rules */</span>
<a name="l00069"></a><a class="code" href="struct__Solver.html#aaeb462f8b787baba6cefba9d47cd16f6">00069</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="struct__Solver.html#aaeb462f8b787baba6cefba9d47cd16f6">jobrules_end</a>;
<a name="l00070"></a>00070 
<a name="l00071"></a><a class="code" href="struct__Solver.html#acc195576c0c97a6434600a532225917f">00071</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="struct__Solver.html#acc195576c0c97a6434600a532225917f">infarchrules</a>;                      <span class="comment">/* inferior arch rules */</span>
<a name="l00072"></a><a class="code" href="struct__Solver.html#ac26ce4c4629c3dfbbc7c47c5d68c57aa">00072</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="struct__Solver.html#ac26ce4c4629c3dfbbc7c47c5d68c57aa">infarchrules_end</a>;
<a name="l00073"></a>00073 
<a name="l00074"></a><a class="code" href="struct__Solver.html#a89cfe62da13159d79a75ec8224013307">00074</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="struct__Solver.html#a89cfe62da13159d79a75ec8224013307">duprules</a>;                          <span class="comment">/* dist upgrade rules */</span>
<a name="l00075"></a><a class="code" href="struct__Solver.html#a652d74df5680d2232bb8806e14b5eec8">00075</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="struct__Solver.html#a652d74df5680d2232bb8806e14b5eec8">duprules_end</a>;
<a name="l00076"></a>00076     
<a name="l00077"></a><a class="code" href="struct__Solver.html#aea18615885ae8f734f50be49557ddf25">00077</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="struct__Solver.html#aea18615885ae8f734f50be49557ddf25">choicerules</a>;                       <span class="comment">/* choice rules (always weak) */</span>
<a name="l00078"></a><a class="code" href="struct__Solver.html#ad55ff11f3be4f912d4bc0fab1dedb510">00078</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="struct__Solver.html#ad55ff11f3be4f912d4bc0fab1dedb510">choicerules_end</a>;
<a name="l00079"></a><a class="code" href="struct__Solver.html#a0068323e429e535d29f03a20cad078f9">00079</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> *<a class="code" href="struct__Solver.html#a0068323e429e535d29f03a20cad078f9">choicerules_ref</a>;
<a name="l00080"></a>00080 
<a name="l00081"></a><a class="code" href="struct__Solver.html#ae7cd8c5decf37ac92db7d6037e8abe31">00081</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> <a class="code" href="struct__Solver.html#ae7cd8c5decf37ac92db7d6037e8abe31">learntrules</a>;                       <span class="comment">/* learnt rules, (end == nrules) */</span>
<a name="l00082"></a>00082 
<a name="l00083"></a><a class="code" href="struct__Solver.html#a3d21fa0c32ce348249d37d6a2ac673ae">00083</a>   <a class="code" href="struct__Map.html">Map</a> <a class="code" href="struct__Solver.html#a3d21fa0c32ce348249d37d6a2ac673ae">noupdate</a>;                         <span class="comment">/* don&#39;t try to update these</span>
<a name="l00084"></a>00084 <span class="comment">                                           installed solvables */</span>
<a name="l00085"></a><a class="code" href="struct__Solver.html#abba5557c05bf04391f2729e530e17595">00085</a>   <a class="code" href="struct__Map.html">Map</a> <a class="code" href="struct__Solver.html#abba5557c05bf04391f2729e530e17595">noobsoletes</a>;                      <span class="comment">/* ignore obsoletes for these (multiinstall) */</span>
<a name="l00086"></a>00086 
<a name="l00087"></a><a class="code" href="struct__Solver.html#a3a8a70e5cdda2af49eb4f1b254767160">00087</a>   <a class="code" href="struct__Map.html">Map</a> <a class="code" href="struct__Solver.html#a3a8a70e5cdda2af49eb4f1b254767160">updatemap</a>;                        <span class="comment">/* bring these installed packages to the newest version */</span>
<a name="l00088"></a><a class="code" href="struct__Solver.html#acd84bec8997ba6b43df45f3e4d8769fa">00088</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Solver.html#acd84bec8997ba6b43df45f3e4d8769fa">updatemap_all</a>;                    <span class="comment">/* bring all packages to the newest version */</span>
<a name="l00089"></a>00089 
<a name="l00090"></a><a class="code" href="struct__Solver.html#abd6939a8eea377b8df5e7204386be38c">00090</a>   <a class="code" href="struct__Map.html">Map</a> <a class="code" href="struct__Solver.html#abd6939a8eea377b8df5e7204386be38c">fixmap</a>;                           <span class="comment">/* fix these packages */</span>
<a name="l00091"></a><a class="code" href="struct__Solver.html#a94fc012aa1dc8f6375951ac49cc2b85f">00091</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Solver.html#a94fc012aa1dc8f6375951ac49cc2b85f">fixmap_all</a>;                       <span class="comment">/* fix all packages */</span>
<a name="l00092"></a>00092 
<a name="l00093"></a><a class="code" href="struct__Solver.html#a7ced8cb2bb55d81e7e029a95c634ef63">00093</a>   <a class="code" href="struct__Queue.html">Queue</a> <a class="code" href="struct__Solver.html#a7ced8cb2bb55d81e7e029a95c634ef63">weakruleq</a>;                      <span class="comment">/* index into &#39;rules&#39; for weak ones */</span>
<a name="l00094"></a><a class="code" href="struct__Solver.html#ab522119c48bc65181e3619850efa97ce">00094</a>   <a class="code" href="struct__Map.html">Map</a> <a class="code" href="struct__Solver.html#ab522119c48bc65181e3619850efa97ce">weakrulemap</a>;                      <span class="comment">/* map rule# to &#39;1&#39; for weak rules, 1..learntrules */</span>
<a name="l00095"></a>00095 
<a name="l00096"></a><a class="code" href="struct__Solver.html#a0a8cf0923220a71dca42f31122c0e02e">00096</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> *<a class="code" href="struct__Solver.html#a0a8cf0923220a71dca42f31122c0e02e">watches</a>;                          <span class="comment">/* Array of rule offsets</span>
<a name="l00097"></a>00097 <span class="comment">                                         * watches has nsolvables*2 entries and is addressed from the middle</span>
<a name="l00098"></a>00098 <span class="comment">                                         * middle-solvable : decision to conflict, offset point to linked-list of rules</span>
<a name="l00099"></a>00099 <span class="comment">                                         * middle+solvable : decision to install: offset point to linked-list of rules</span>
<a name="l00100"></a>00100 <span class="comment">                                         */</span>
<a name="l00101"></a>00101 
<a name="l00102"></a><a class="code" href="struct__Solver.html#a10c20c3a8916dd7c7084a02fcd597f75">00102</a>   <a class="code" href="struct__Queue.html">Queue</a> <a class="code" href="struct__Solver.html#a10c20c3a8916dd7c7084a02fcd597f75">ruletojob</a>;                      <span class="comment">/* index into job queue: jobs for which a rule exits */</span>
<a name="l00103"></a>00103 
<a name="l00104"></a>00104   <span class="comment">/* our decisions: */</span>
<a name="l00105"></a><a class="code" href="struct__Solver.html#a4314de5a9845a917ae438e32800763e4">00105</a>   <a class="code" href="struct__Queue.html">Queue</a> <a class="code" href="struct__Solver.html#a4314de5a9845a917ae438e32800763e4">decisionq</a>;                      <span class="comment">/* &gt;0:install, &lt;0:remove/conflict */</span>
<a name="l00106"></a><a class="code" href="struct__Solver.html#abd47006ee5afb8f31d8a9bd3a7cd3aaa">00106</a>   <a class="code" href="struct__Queue.html">Queue</a> <a class="code" href="struct__Solver.html#abd47006ee5afb8f31d8a9bd3a7cd3aaa">decisionq_why</a>;                  <span class="comment">/* index of rule, Offset into rules */</span>
<a name="l00107"></a>00107 
<a name="l00108"></a><a class="code" href="struct__Solver.html#a2554a6d5fcef4960540b0b89cf96ee1f">00108</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> *<a class="code" href="struct__Solver.html#a2554a6d5fcef4960540b0b89cf96ee1f">decisionmap</a>;                      <span class="comment">/* map for all available solvables,</span>
<a name="l00109"></a>00109 <span class="comment">                                         * = 0: undecided</span>
<a name="l00110"></a>00110 <span class="comment">                                         * &gt; 0: level of decision when installed,</span>
<a name="l00111"></a>00111 <span class="comment">                                         * &lt; 0: level of decision when conflict */</span>
<a name="l00112"></a>00112 
<a name="l00113"></a>00113   <span class="comment">/* learnt rule history */</span>
<a name="l00114"></a><a class="code" href="struct__Solver.html#a478d3bc110c01dfd017098f49fe37196">00114</a>   <a class="code" href="struct__Queue.html">Queue</a> <a class="code" href="struct__Solver.html#a478d3bc110c01dfd017098f49fe37196">learnt_why</a>;
<a name="l00115"></a><a class="code" href="struct__Solver.html#a84899433adc54306b999d2060929f18c">00115</a>   <a class="code" href="struct__Queue.html">Queue</a> <a class="code" href="struct__Solver.html#a84899433adc54306b999d2060929f18c">learnt_pool</a>;
<a name="l00116"></a>00116 
<a name="l00117"></a><a class="code" href="struct__Solver.html#a4689f4772c7ea286d2f568aa89e0b69c">00117</a>   <a class="code" href="struct__Queue.html">Queue</a> <a class="code" href="struct__Solver.html#a4689f4772c7ea286d2f568aa89e0b69c">branches</a>;
<a name="l00118"></a><a class="code" href="struct__Solver.html#ac64efe38c75c1e88361f96f773bd1343">00118</a>   int (*<a class="code" href="struct__Solver.html#ac64efe38c75c1e88361f96f773bd1343">solution_callback</a>)(<span class="keyword">struct </span><a class="code" href="struct__Solver.html">_Solver</a> *solv, <span class="keywordtype">void</span> *data);
<a name="l00119"></a><a class="code" href="struct__Solver.html#a55b83c645d2b9e0672eb58a2c051bd7f">00119</a>   <span class="keywordtype">void</span> *<a class="code" href="struct__Solver.html#a55b83c645d2b9e0672eb58a2c051bd7f">solution_callback_data</a>;
<a name="l00120"></a>00120 
<a name="l00121"></a><a class="code" href="struct__Solver.html#a44c8fea55c59a5e4342c9715fadc5eff">00121</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Solver.html#a44c8fea55c59a5e4342c9715fadc5eff">propagate_index</a>;                  <span class="comment">/* index into decisionq for non-propagated decisions */</span>
<a name="l00122"></a>00122 
<a name="l00123"></a><a class="code" href="struct__Solver.html#ab721d029235084ef86792f389966801c">00123</a>   <a class="code" href="struct__Queue.html">Queue</a> <a class="code" href="struct__Solver.html#ab721d029235084ef86792f389966801c">problems</a>;                       <span class="comment">/* list of lists of conflicting rules, &lt; 0 for job rules */</span>
<a name="l00124"></a><a class="code" href="struct__Solver.html#a8e7728bc732c56f0d5da2ab062db0e18">00124</a>   <a class="code" href="struct__Queue.html">Queue</a> <a class="code" href="struct__Solver.html#a8e7728bc732c56f0d5da2ab062db0e18">solutions</a>;                      <span class="comment">/* refined problem storage space */</span>
<a name="l00125"></a>00125 
<a name="l00126"></a><a class="code" href="struct__Solver.html#ace329c44badd73790268c31ac19140eb">00126</a>   <a class="code" href="struct__Queue.html">Queue</a> <a class="code" href="struct__Solver.html#ace329c44badd73790268c31ac19140eb">recommendations</a>;                <span class="comment">/* recommended packages */</span>
<a name="l00127"></a><a class="code" href="struct__Solver.html#a9db22c7e868e171b48d42a28fc238e90">00127</a>   <a class="code" href="struct__Queue.html">Queue</a> <a class="code" href="struct__Solver.html#a9db22c7e868e171b48d42a28fc238e90">suggestions</a>;                    <span class="comment">/* suggested packages */</span>
<a name="l00128"></a><a class="code" href="struct__Solver.html#adb1172bd53603d194c32884afcf7bb94">00128</a>   <a class="code" href="struct__Queue.html">Queue</a> <a class="code" href="struct__Solver.html#adb1172bd53603d194c32884afcf7bb94">orphaned</a>;                       <span class="comment">/* orphaned packages */</span>
<a name="l00129"></a>00129 
<a name="l00130"></a><a class="code" href="struct__Solver.html#aee8bd4218dfbc60658a36cb4db9e66c1">00130</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Solver.html#aee8bd4218dfbc60658a36cb4db9e66c1">stats_learned</a>;                    <span class="comment">/* statistic */</span>
<a name="l00131"></a><a class="code" href="struct__Solver.html#a2f306f85ab6db3a258360c38c554e198">00131</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Solver.html#a2f306f85ab6db3a258360c38c554e198">stats_unsolvable</a>;                 <span class="comment">/* statistic */</span>
<a name="l00132"></a>00132 
<a name="l00133"></a><a class="code" href="struct__Solver.html#a2986515b782863425d4cba3d5d008d40">00133</a>   <a class="code" href="struct__Map.html">Map</a> <a class="code" href="struct__Solver.html#a2986515b782863425d4cba3d5d008d40">recommendsmap</a>;                    <span class="comment">/* recommended packages from decisionmap */</span>
<a name="l00134"></a><a class="code" href="struct__Solver.html#a9cbfe5225875011ef9bec7bf6863188c">00134</a>   <a class="code" href="struct__Map.html">Map</a> <a class="code" href="struct__Solver.html#a9cbfe5225875011ef9bec7bf6863188c">suggestsmap</a>;                      <span class="comment">/* suggested packages from decisionmap */</span>
<a name="l00135"></a><a class="code" href="struct__Solver.html#af94cd1d0f31371c7497f87d787509c4e">00135</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Solver.html#af94cd1d0f31371c7497f87d787509c4e">recommends_index</a>;                 <span class="comment">/* recommendsmap/suggestsmap is created up to this level */</span>
<a name="l00136"></a>00136 
<a name="l00137"></a><a class="code" href="struct__Solver.html#a120ffae2cf35bbcf15ac9656e21e58b5">00137</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> *<a class="code" href="struct__Solver.html#a120ffae2cf35bbcf15ac9656e21e58b5">obsoletes</a>;                        <span class="comment">/* obsoletes for each installed solvable */</span>
<a name="l00138"></a><a class="code" href="struct__Solver.html#a8cbe8e709b7c60ee3e6b09919497b096">00138</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> *<a class="code" href="struct__Solver.html#a8cbe8e709b7c60ee3e6b09919497b096">obsoletes_data</a>;                   <span class="comment">/* data area for obsoletes */</span>
<a name="l00139"></a><a class="code" href="struct__Solver.html#acbd2fa5e62a07403e909e6bd095f462c">00139</a>   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> *<a class="code" href="struct__Solver.html#acbd2fa5e62a07403e909e6bd095f462c">multiversionupdaters</a>;             <span class="comment">/* updaters for multiversion packages in updatesystem mode */</span>
<a name="l00140"></a>00140 
<a name="l00141"></a>00141   <span class="comment">/*-------------------------------------------------------------------------------------------------------------</span>
<a name="l00142"></a>00142 <span class="comment">   * Solver configuration</span>
<a name="l00143"></a>00143 <span class="comment">   *-------------------------------------------------------------------------------------------------------------*/</span>
<a name="l00144"></a>00144 
<a name="l00145"></a><a class="code" href="struct__Solver.html#a6874d72df23a03ac7723ac7638d417b0">00145</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Solver.html#a6874d72df23a03ac7723ac7638d417b0">fixsystem</a>;                        <span class="comment">/* repair errors in rpm dependency graph */</span>
<a name="l00146"></a><a class="code" href="struct__Solver.html#aafa0bd8cdd046f8d7b7d28ec456f6ce1">00146</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Solver.html#aafa0bd8cdd046f8d7b7d28ec456f6ce1">allowdowngrade</a>;                   <span class="comment">/* allow to downgrade installed solvable */</span>
<a name="l00147"></a><a class="code" href="struct__Solver.html#abd6024913ab67fd61f2b3d4940228045">00147</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Solver.html#abd6024913ab67fd61f2b3d4940228045">allowarchchange</a>;                  <span class="comment">/* allow to change architecture of installed solvables */</span>
<a name="l00148"></a><a class="code" href="struct__Solver.html#ab5f9dcc0d7a46204a48f5a3cc96fdb46">00148</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Solver.html#ab5f9dcc0d7a46204a48f5a3cc96fdb46">allowvendorchange</a>;                <span class="comment">/* allow to change vendor of installed solvables */</span>
<a name="l00149"></a><a class="code" href="struct__Solver.html#a8ce202fa0c19de415a0909874c1f4b6e">00149</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Solver.html#a8ce202fa0c19de415a0909874c1f4b6e">allowuninstall</a>;                   <span class="comment">/* allow removal of installed solvables */</span>
<a name="l00150"></a><a class="code" href="struct__Solver.html#a8d41fca10588156981573550d4347b44">00150</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Solver.html#a8d41fca10588156981573550d4347b44">updatesystem</a>;                     <span class="comment">/* update all packages to the newest version */</span>
<a name="l00151"></a><a class="code" href="struct__Solver.html#ad9d5c8425e9a2e94044ecc74ba80525f">00151</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Solver.html#ad9d5c8425e9a2e94044ecc74ba80525f">noupdateprovide</a>;                  <span class="comment">/* true: update packages needs not to provide old package */</span>
<a name="l00152"></a><a class="code" href="struct__Solver.html#a5cd2fc062866e78c86785c19d768e2ad">00152</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Solver.html#a5cd2fc062866e78c86785c19d768e2ad">dosplitprovides</a>;                  <span class="comment">/* true: consider legacy split provides */</span>
<a name="l00153"></a><a class="code" href="struct__Solver.html#aae41da1151d087710205a58f21055445">00153</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Solver.html#aae41da1151d087710205a58f21055445">dontinstallrecommended</a>;           <span class="comment">/* true: do not install recommended packages */</span>
<a name="l00154"></a><a class="code" href="struct__Solver.html#a38e13ced0143d9000c5358a0f7eca279">00154</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Solver.html#a38e13ced0143d9000c5358a0f7eca279">ignorealreadyrecommended</a>;         <span class="comment">/* true: ignore recommended packages that were already recommended by the installed packages */</span>
<a name="l00155"></a><a class="code" href="struct__Solver.html#a918f6acd55446af96aed3518273f5c0f">00155</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Solver.html#a918f6acd55446af96aed3518273f5c0f">dontshowinstalledrecommended</a>;     <span class="comment">/* true: do not show recommended packages that are already installed */</span>
<a name="l00156"></a>00156   
<a name="l00157"></a>00157   <span class="comment">/* distupgrade also needs updatesystem and dosplitprovides */</span>
<a name="l00158"></a><a class="code" href="struct__Solver.html#abbd19f4bf7dbc9c4a18b3822525566ee">00158</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Solver.html#abbd19f4bf7dbc9c4a18b3822525566ee">distupgrade</a>;
<a name="l00159"></a><a class="code" href="struct__Solver.html#a2f274d7dcfa3252963534e432e3f55c4">00159</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Solver.html#a2f274d7dcfa3252963534e432e3f55c4">distupgrade_removeunsupported</a>;
<a name="l00160"></a>00160 
<a name="l00161"></a><a class="code" href="struct__Solver.html#a5a9b8e5adbc97fa308942f23bddc6a14">00161</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Solver.html#a5a9b8e5adbc97fa308942f23bddc6a14">noinfarchcheck</a>;                   <span class="comment">/* true: do not forbid inferior architectures */</span>
<a name="l00162"></a>00162 
<a name="l00163"></a>00163   <span class="comment">/* Callbacks for defining the bahaviour of the SAT solver */</span>
<a name="l00164"></a>00164 
<a name="l00165"></a>00165   <span class="comment">/* Finding best candidate</span>
<a name="l00166"></a>00166 <span class="comment">   *</span>
<a name="l00167"></a>00167 <span class="comment">   * Callback definition:</span>
<a name="l00168"></a>00168 <span class="comment">   * void  bestSolvable (Pool *pool, Queue *canditates)</span>
<a name="l00169"></a>00169 <span class="comment">   *     candidates       : List of canditates which has to be sorted by the function call</span>
<a name="l00170"></a>00170 <span class="comment">   *     return candidates: Sorted list of the candidates(first is the best).</span>
<a name="l00171"></a>00171 <span class="comment">   */</span>
<a name="l00172"></a><a class="code" href="struct__Solver.html#a954447641bf85ff1b5d78bd0fbbf6947">00172</a>    <a class="code" href="solver_8h.html#a831a5430fe4d6f4e04fc59c84d748411">BestSolvableCb</a> <a class="code" href="struct__Solver.html#a954447641bf85ff1b5d78bd0fbbf6947">bestSolvableCb</a>;
<a name="l00173"></a>00173 
<a name="l00174"></a>00174   <span class="comment">/* Checking if two solvables has compatible architectures</span>
<a name="l00175"></a>00175 <span class="comment">   *</span>
<a name="l00176"></a>00176 <span class="comment">   * Callback definition:</span>
<a name="l00177"></a>00177 <span class="comment">   *     int  archCheck (Pool *pool, Solvable *solvable1, Solvable *solvable2);</span>
<a name="l00178"></a>00178 <span class="comment">   *     </span>
<a name="l00179"></a>00179 <span class="comment">   *     return 0 it the two solvables has compatible architectures</span>
<a name="l00180"></a>00180 <span class="comment">   */</span>
<a name="l00181"></a><a class="code" href="struct__Solver.html#a97e9379f124d191e2f6e62c05f683b98">00181</a>    <a class="code" href="solver_8h.html#a03552b0d1e3317f70a9f5b3cc8be2099">ArchCheckCb</a> <a class="code" href="struct__Solver.html#a97e9379f124d191e2f6e62c05f683b98">archCheckCb</a>;
<a name="l00182"></a>00182 
<a name="l00183"></a>00183   <span class="comment">/* Checking if two solvables has compatible vendors</span>
<a name="l00184"></a>00184 <span class="comment">   *</span>
<a name="l00185"></a>00185 <span class="comment">   * Callback definition:</span>
<a name="l00186"></a>00186 <span class="comment">   *     int  vendorCheck (Pool *pool, Solvable *solvable1, Solvable *solvable2);</span>
<a name="l00187"></a>00187 <span class="comment">   *     </span>
<a name="l00188"></a>00188 <span class="comment">   *     return 0 it the two solvables has compatible architectures</span>
<a name="l00189"></a>00189 <span class="comment">   */</span>
<a name="l00190"></a><a class="code" href="struct__Solver.html#ab5ff23bef4e45c37137286ce71c43c03">00190</a>    <a class="code" href="solver_8h.html#a097d868b6159fa270ae66edbbe06bb42">VendorCheckCb</a> <a class="code" href="struct__Solver.html#ab5ff23bef4e45c37137286ce71c43c03">vendorCheckCb</a>;
<a name="l00191"></a>00191     
<a name="l00192"></a>00192   <span class="comment">/* Evaluate update candidate</span>
<a name="l00193"></a>00193 <span class="comment">   *</span>
<a name="l00194"></a>00194 <span class="comment">   * Callback definition:</span>
<a name="l00195"></a>00195 <span class="comment">   * void pdateCandidateCb (Pool *pool, Solvable *solvable, Queue *canditates)</span>
<a name="l00196"></a>00196 <span class="comment">   *     solvable   : for which updates should be search</span>
<a name="l00197"></a>00197 <span class="comment">   *     candidates : List of candidates (This list depends on other</span>
<a name="l00198"></a>00198 <span class="comment">   *                  restrictions like architecture and vendor policies too)</span>
<a name="l00199"></a>00199 <span class="comment">   */</span>
<a name="l00200"></a><a class="code" href="struct__Solver.html#aea45da75169a4a6acc2907cc32582c42">00200</a>    <a class="code" href="solver_8h.html#a0b6a7220234d2fd682ac46175e09efe2">UpdateCandidateCb</a>   <a class="code" href="struct__Solver.html#aea45da75169a4a6acc2907cc32582c42">updateCandidateCb</a>;
<a name="l00201"></a>00201     
<a name="l00202"></a>00202 
<a name="l00203"></a>00203   <span class="comment">/* some strange queue that doesn&#39;t belong here */</span>
<a name="l00204"></a><a class="code" href="struct__Solver.html#ad0f3f5d8dc3b9f63311f806d75535e57">00204</a>   <a class="code" href="struct__Queue.html">Queue</a> <a class="code" href="struct__Solver.html#ad0f3f5d8dc3b9f63311f806d75535e57">covenantq</a>;                      <span class="comment">/* Covenants honored by this solver (generic locks) */</span>
<a name="l00205"></a>00205 
<a name="l00206"></a>00206   
<a name="l00207"></a><a class="code" href="struct__Solver.html#a7e4c35e1ef29955b2856ae8a9f53afaf">00207</a>   <a class="code" href="struct__Map.html">Map</a> <a class="code" href="struct__Solver.html#a7e4c35e1ef29955b2856ae8a9f53afaf">dupmap</a>;                           <span class="comment">/* dup these packages*/</span>
<a name="l00208"></a><a class="code" href="struct__Solver.html#a9cd3fd6829304b489deb536773b46bcd">00208</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Solver.html#a9cd3fd6829304b489deb536773b46bcd">dupmap_all</a>;                       <span class="comment">/* dup all packages */</span>
<a name="l00209"></a><a class="code" href="struct__Solver.html#aa1bf669e0cbf1c260e21ac02d3c6f636">00209</a>   <a class="code" href="struct__Map.html">Map</a> <a class="code" href="struct__Solver.html#aa1bf669e0cbf1c260e21ac02d3c6f636">dupinvolvedmap</a>;                   <span class="comment">/* packages involved in dup process */</span>
<a name="l00210"></a>00210 
<a name="l00211"></a><a class="code" href="struct__Solver.html#a63c18f10611328c73187169d839909a5">00211</a>   <a class="code" href="struct__Map.html">Map</a> <a class="code" href="struct__Solver.html#a63c18f10611328c73187169d839909a5">droporphanedmap</a>;                  <span class="comment">/* packages to drop in dup mode */</span>
<a name="l00212"></a><a class="code" href="struct__Solver.html#a0cb88d4d16582d7ae6832e7ba86cbe62">00212</a>   <span class="keywordtype">int</span> <a class="code" href="struct__Solver.html#a0cb88d4d16582d7ae6832e7ba86cbe62">droporphanedmap_all</a>;
<a name="l00213"></a>00213 
<a name="l00214"></a><a class="code" href="struct__Solver.html#aca6e9f9e510b39b2e91f03d00078fbe0">00214</a>   <a class="code" href="struct__Map.html">Map</a> <a class="code" href="struct__Solver.html#aca6e9f9e510b39b2e91f03d00078fbe0">cleandepsmap</a>;                     <span class="comment">/* try to drop these packages as of cleandeps erases */</span>
<a name="l00215"></a>00215 
<a name="l00216"></a><a class="code" href="struct__Solver.html#a2c837b93c4e8789733fc833be0b0328e">00216</a>   <a class="code" href="struct__Queue.html">Queue</a> *<a class="code" href="struct__Solver.html#a2c837b93c4e8789733fc833be0b0328e">ruleinfoq</a>;                     <span class="comment">/* tmp space for solver_ruleinfo() */</span>
<a name="l00217"></a>00217 } <a class="code" href="struct__Solver.html">Solver</a>;
<a name="l00218"></a>00218 
<a name="l00219"></a>00219 <span class="comment">/*</span>
<a name="l00220"></a>00220 <span class="comment"> * queue commands</span>
<a name="l00221"></a>00221 <span class="comment"> */</span>
<a name="l00222"></a>00222 
<a name="l00223"></a><a class="code" href="solver_8h.html#a9b518d6f0de09ed95730f921a9b44ec4">00223</a> <span class="preprocessor">#define SOLVER_SOLVABLE                 0x01</span>
<a name="l00224"></a><a class="code" href="solver_8h.html#a9421d78139a656e271ef26a1e6ec45e9">00224</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_SOLVABLE_NAME            0x02</span>
<a name="l00225"></a><a class="code" href="solver_8h.html#a7549896da2123fc3f9f599fbe46958bf">00225</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_SOLVABLE_PROVIDES        0x03</span>
<a name="l00226"></a><a class="code" href="solver_8h.html#a863bf2ecf4f1541a43fe51b1a4e1933d">00226</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_SOLVABLE_ONE_OF          0x04</span>
<a name="l00227"></a><a class="code" href="solver_8h.html#a28e916179dc307b3b10a19ae80368a72">00227</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_SOLVABLE_REPO            0x05</span>
<a name="l00228"></a><a class="code" href="solver_8h.html#ae3aad4cf02f4e13ed9675727fd50d610">00228</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_SOLVABLE_ALL             0x06</span>
<a name="l00229"></a>00229 <span class="preprocessor"></span>
<a name="l00230"></a><a class="code" href="solver_8h.html#a33eaa6a492fa3d41e9c123f2c57ebfcb">00230</a> <span class="preprocessor">#define SOLVER_SELECTMASK               0xff</span>
<a name="l00231"></a>00231 <span class="preprocessor"></span>
<a name="l00232"></a><a class="code" href="solver_8h.html#ad13ebd4aace9ea19fdc983f537b2d258">00232</a> <span class="preprocessor">#define SOLVER_NOOP                     0x0000</span>
<a name="l00233"></a><a class="code" href="solver_8h.html#a1824d0748e0b4ad4edb5907ad98a0501">00233</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_INSTALL                  0x0100</span>
<a name="l00234"></a><a class="code" href="solver_8h.html#afa4fdabf3f6b7eb6f916d6a9f4389472">00234</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_ERASE                    0x0200</span>
<a name="l00235"></a><a class="code" href="solver_8h.html#a59d47036c69e7c1a21b2f1940766429c">00235</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_UPDATE                   0x0300</span>
<a name="l00236"></a><a class="code" href="solver_8h.html#af941d85d3a82ee721e39be6d8ede94c4">00236</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_WEAKENDEPS               0x0400</span>
<a name="l00237"></a><a class="code" href="solver_8h.html#a762242cb848cb4e0b16e7616e7642b29">00237</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_NOOBSOLETES              0x0500</span>
<a name="l00238"></a><a class="code" href="solver_8h.html#ac8cab64c33571685db1c3a885be755e7">00238</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_LOCK                     0x0600</span>
<a name="l00239"></a><a class="code" href="solver_8h.html#aebd7cafec720233f1ff32886c2541fd4">00239</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_DISTUPGRADE              0x0700</span>
<a name="l00240"></a><a class="code" href="solver_8h.html#a19cc85780766b13d190cdfad92bee501">00240</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_VERIFY                   0x0800</span>
<a name="l00241"></a><a class="code" href="solver_8h.html#a873ee37648357e525b2e1e146d24467d">00241</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_DROP_ORPHANED            0x0900</span>
<a name="l00242"></a><a class="code" href="solver_8h.html#a3d4289e2bcdf411308e82976dc3802fb">00242</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_USERINSTALLED            0x0a00</span>
<a name="l00243"></a>00243 <span class="preprocessor"></span>
<a name="l00244"></a><a class="code" href="solver_8h.html#a429b83154a9bd41060841f3e86e13076">00244</a> <span class="preprocessor">#define SOLVER_JOBMASK                  0xff00</span>
<a name="l00245"></a>00245 <span class="preprocessor"></span>
<a name="l00246"></a><a class="code" href="solver_8h.html#a7392ac8277483f42f243482ab54f5569">00246</a> <span class="preprocessor">#define SOLVER_WEAK                     0x010000</span>
<a name="l00247"></a><a class="code" href="solver_8h.html#ae64cd4a3201b49e437c10b1fc26b0fb5">00247</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_ESSENTIAL                0x020000</span>
<a name="l00248"></a><a class="code" href="solver_8h.html#a4e128023f7c1c552c6bf9421e68ae124">00248</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_CLEANDEPS                0x040000</span>
<a name="l00249"></a>00249 <span class="preprocessor"></span>
<a name="l00250"></a><a class="code" href="solver_8h.html#aa36ce9b8c0a68df759b0399b918f868a">00250</a> <span class="preprocessor">#define SOLVER_SETEV                    0x01000000</span>
<a name="l00251"></a><a class="code" href="solver_8h.html#ab3c489618d2b1e807d0477e88069faaa">00251</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_SETEVR                   0x02000000</span>
<a name="l00252"></a><a class="code" href="solver_8h.html#ab4ddb57aa129e1f53e9746702f4047e1">00252</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_SETARCH                  0x04000000</span>
<a name="l00253"></a><a class="code" href="solver_8h.html#af52522d8117fc22c30659d90aed80044">00253</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_SETVENDOR                0x08000000</span>
<a name="l00254"></a><a class="code" href="solver_8h.html#a1421bc24b85348f68680ccaa16d718dd">00254</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_SETREPO                  0x10000000</span>
<a name="l00255"></a><a class="code" href="solver_8h.html#a1999dd3b5256c7a829af25d3c10c673e">00255</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_NOAUTOSET                0x20000000</span>
<a name="l00256"></a>00256 <span class="preprocessor"></span>
<a name="l00257"></a><a class="code" href="solver_8h.html#ade65310dd2a784e9d776afbcb3796891">00257</a> <span class="preprocessor">#define SOLVER_SETMASK                  0x2f000000</span>
<a name="l00258"></a>00258 <span class="preprocessor"></span>
<a name="l00259"></a>00259 <span class="comment">/* old API compatibility, do not use in new code */</span>
<a name="l00260"></a>00260 <span class="preprocessor">#if 1</span>
<a name="l00261"></a><a class="code" href="solver_8h.html#a7ee56d46031c900cf2bf57d67a9d5eb2">00261</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_INSTALL_SOLVABLE (SOLVER_INSTALL|SOLVER_SOLVABLE)</span>
<a name="l00262"></a><a class="code" href="solver_8h.html#a358a90a59f690e819dd0c0576e99facf">00262</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_ERASE_SOLVABLE (SOLVER_ERASE|SOLVER_SOLVABLE)</span>
<a name="l00263"></a><a class="code" href="solver_8h.html#ae4da0674748b188343ce62823d357753">00263</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_INSTALL_SOLVABLE_NAME (SOLVER_INSTALL|SOLVER_SOLVABLE_NAME)</span>
<a name="l00264"></a><a class="code" href="solver_8h.html#adef947d2c6375ffa4f2246ee8e8b336c">00264</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_ERASE_SOLVABLE_NAME (SOLVER_ERASE|SOLVER_SOLVABLE_NAME)</span>
<a name="l00265"></a><a class="code" href="solver_8h.html#a588665fe57245daf93aacb8bc591ac73">00265</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_INSTALL_SOLVABLE_PROVIDES (SOLVER_INSTALL|SOLVER_SOLVABLE_PROVIDES)</span>
<a name="l00266"></a><a class="code" href="solver_8h.html#a3afa36db2ea400261153fd31fc31ec1c">00266</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_ERASE_SOLVABLE_PROVIDES (SOLVER_ERASE|SOLVER_SOLVABLE_PROVIDES)</span>
<a name="l00267"></a><a class="code" href="solver_8h.html#afa25e8f4dc8ddd36891ceb7e512d9868">00267</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_INSTALL_SOLVABLE_UPDATE (SOLVER_UPDATE|SOLVER_SOLVABLE)</span>
<a name="l00268"></a><a class="code" href="solver_8h.html#a49671586e7bfd55f6501022a7d670196">00268</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_INSTALL_SOLVABLE_ONE_OF (SOLVER_INSTALL|SOLVER_SOLVABLE_ONE_OF)</span>
<a name="l00269"></a><a class="code" href="solver_8h.html#a42e02915732c4ea2de638bc1ff0a0b83">00269</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_WEAKEN_SOLVABLE_DEPS (SOLVER_WEAKENDEPS|SOLVER_SOLVABLE)</span>
<a name="l00270"></a><a class="code" href="solver_8h.html#aff130c5714202e41c6e0d2dafbc08b95">00270</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_NOOBSOLETES_SOLVABLE (SOLVER_NOOBSOLETES|SOLVER_SOLVABLE)</span>
<a name="l00271"></a><a class="code" href="solver_8h.html#afeac25cc388136b91140f282b7be974d">00271</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_NOOBSOLETES_SOLVABLE_NAME (SOLVER_NOOBSOLETES|SOLVER_SOLVABLE_NAME)</span>
<a name="l00272"></a><a class="code" href="solver_8h.html#a6ef513246425dd021bf28eb453a937a9">00272</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_NOOBSOLETES_SOLVABLE_PROVIDES (SOLVER_NOOBSOLETES|SOLVER_SOLVABLE_PROVIDES)</span>
<a name="l00273"></a>00273 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00274"></a>00274 <span class="preprocessor"></span>
<a name="l00275"></a>00275 <span class="comment">/* backward compatibility */</span>
<a name="l00276"></a><a class="code" href="solver_8h.html#af0add900c4fe1712904ddc4a21585cd7">00276</a> <span class="preprocessor">#define SOLVER_PROBLEM_UPDATE_RULE              SOLVER_RULE_UPDATE</span>
<a name="l00277"></a><a class="code" href="solver_8h.html#a9c26351209ff8b80f54f39292be878a6">00277</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_PROBLEM_JOB_RULE                 SOLVER_RULE_JOB</span>
<a name="l00278"></a><a class="code" href="solver_8h.html#a1eea7b4f2b479a7e50a1be0f966f30e7">00278</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_PROBLEM_JOB_NOTHING_PROVIDES_DEP SOLVER_RULE_JOB_NOTHING_PROVIDES_DEP</span>
<a name="l00279"></a><a class="code" href="solver_8h.html#a351daa1de72c7907d9f33ff359fa961f">00279</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_PROBLEM_NOT_INSTALLABLE          SOLVER_RULE_RPM_NOT_INSTALLABLE</span>
<a name="l00280"></a><a class="code" href="solver_8h.html#a90a3383d3f49ff5a7bf56ed828794c30">00280</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_PROBLEM_NOTHING_PROVIDES_DEP     SOLVER_RULE_RPM_NOTHING_PROVIDES_DEP</span>
<a name="l00281"></a><a class="code" href="solver_8h.html#ad3087c13c4fd68c480e1980313d859cf">00281</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_PROBLEM_SAME_NAME                SOLVER_RULE_RPM_SAME_NAME</span>
<a name="l00282"></a><a class="code" href="solver_8h.html#af5fccc400a6a4a55e0c4a1ab1ae3887d">00282</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_PROBLEM_PACKAGE_CONFLICT         SOLVER_RULE_RPM_PACKAGE_CONFLICT</span>
<a name="l00283"></a><a class="code" href="solver_8h.html#a0909adeffab1e85f3d5491f1509f80ea">00283</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_PROBLEM_PACKAGE_OBSOLETES        SOLVER_RULE_RPM_PACKAGE_OBSOLETES</span>
<a name="l00284"></a><a class="code" href="solver_8h.html#adce411de57efaead5433b21a91c9f7a6">00284</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_PROBLEM_DEP_PROVIDERS_NOT_INSTALLABLE SOLVER_RULE_RPM_PACKAGE_REQUIRES</span>
<a name="l00285"></a><a class="code" href="solver_8h.html#a7ef9f5156d78e13989aa69d31a68820d">00285</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_PROBLEM_SELF_CONFLICT            SOLVER_RULE_RPM_SELF_CONFLICT</span>
<a name="l00286"></a><a class="code" href="solver_8h.html#aa70f52eacbecd8fefb6cde4d982c33e2">00286</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_PROBLEM_RPM_RULE                 SOLVER_RULE_RPM</span>
<a name="l00287"></a><a class="code" href="solver_8h.html#a98f9c13863046566b695b4fc2a8f2b0b">00287</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_PROBLEM_DISTUPGRADE_RULE         SOLVER_RULE_DISTUPGRADE</span>
<a name="l00288"></a><a class="code" href="solver_8h.html#a0389ee13f1ace26a99e11e0c90294a49">00288</a> <span class="preprocessor"></span><span class="preprocessor">#define SOLVER_PROBLEM_INFARCH_RULE             SOLVER_RULE_INFARCH</span>
<a name="l00289"></a>00289 <span class="preprocessor"></span>
<a name="l00290"></a>00290 
<a name="l00291"></a>00291 <span class="keyword">extern</span> <a class="code" href="struct__Solver.html">Solver</a> *<a class="code" href="solver_8c.html#a4d9e45ff8f9dc01afea6ffed4acc8628">solver_create</a>(<a class="code" href="struct__Pool.html">Pool</a> *pool);
<a name="l00292"></a>00292 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="solver_8c.html#a095de72dcda56bc55d059a296d6241b6">solver_free</a>(<a class="code" href="struct__Solver.html">Solver</a> *solv);
<a name="l00293"></a>00293 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="solver_8c.html#ae85e85040c0e9bd687d9f832c48621ad">solver_solve</a>(<a class="code" href="struct__Solver.html">Solver</a> *solv, <a class="code" href="struct__Queue.html">Queue</a> *<a class="code" href="struct__Solver.html#a435112243fdfe7e14ceea9348578d5bd">job</a>);
<a name="l00294"></a>00294 
<a name="l00295"></a>00295 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="solver_8c.html#a94baa0a254ed4ba05966c5db9b5fc719">solver_run_sat</a>(<a class="code" href="struct__Solver.html">Solver</a> *solv, <span class="keywordtype">int</span> disablerules, <span class="keywordtype">int</span> doweak);
<a name="l00296"></a>00296 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="solver_8c.html#afecdd1c27d4f7bb4adb76e39bb4c1ec4">solver_reset</a>(<a class="code" href="struct__Solver.html">Solver</a> *solv);
<a name="l00297"></a>00297 
<a name="l00298"></a>00298 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="solver_8c.html#a148a1d7ed3fec78b572511e61d7d128e">solver_dep_installed</a>(<a class="code" href="struct__Solver.html">Solver</a> *solv, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> dep);
<a name="l00299"></a>00299 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="solver_8c.html#a286f6deaa18777ff50e4fb5470e162e1">solver_splitprovides</a>(<a class="code" href="struct__Solver.html">Solver</a> *solv, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> dep);
<a name="l00300"></a>00300 
<a name="l00301"></a>00301 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="solver_8c.html#ae135ce6be07f975bf50d644090dd9169">solver_calculate_noobsmap</a>(<a class="code" href="struct__Pool.html">Pool</a> *pool, <a class="code" href="struct__Queue.html">Queue</a> *<a class="code" href="struct__Solver.html#a435112243fdfe7e14ceea9348578d5bd">job</a>, <a class="code" href="struct__Map.html">Map</a> *noobsmap);
<a name="l00302"></a>00302 
<a name="l00303"></a>00303 <span class="comment">/* obsolete */</span>
<a name="l00304"></a>00304 <span class="keyword">extern</span> <a class="code" href="rules_8h.html#a017ca899ac1b93c098aa31a19ec3e7f3">SolverRuleinfo</a> <a class="code" href="problems_8c.html#a35caa9fd431c3dbd5f7402e3cd6e0ff6">solver_problemruleinfo</a>(<a class="code" href="struct__Solver.html">Solver</a> *solv, <a class="code" href="struct__Queue.html">Queue</a> *<a class="code" href="struct__Solver.html#a435112243fdfe7e14ceea9348578d5bd">job</a>, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> rid, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> *depp, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> *sourcep, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> *targetp);
<a name="l00305"></a>00305 
<a name="l00306"></a>00306 <span class="comment">/* XXX: why is this not static? */</span>
<a name="l00307"></a>00307 <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> *<a class="code" href="solver_8h.html#a3ac3cdc97e6506d42379007afc05149e">solver_create_decisions_obsoletesmap</a>(<a class="code" href="struct__Solver.html">Solver</a> *solv);
<a name="l00308"></a>00308 
<a name="l00309"></a>00309 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span>
<a name="l00310"></a><a class="code" href="solver_8h.html#a2574e4c44648d827960e0ac005838f3f">00310</a> <a class="code" href="solver_8h.html#a2574e4c44648d827960e0ac005838f3f">solver_dep_fulfilled</a>(<a class="code" href="struct__Solver.html">Solver</a> *solv, <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> dep)
<a name="l00311"></a>00311 {
<a name="l00312"></a>00312   <a class="code" href="struct__Pool.html">Pool</a> *pool = solv-&gt;<a class="code" href="struct__Solver.html#aa5df779fdf9b25650a76796827daf52c">pool</a>;
<a name="l00313"></a>00313   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> p, pp;
<a name="l00314"></a>00314 
<a name="l00315"></a>00315   <span class="keywordflow">if</span> (<a class="code" href="pool_8h.html#a723c8c54fdd5d81be4b612c0d2868c2d">ISRELDEP</a>(dep))
<a name="l00316"></a>00316     {
<a name="l00317"></a>00317       <a class="code" href="struct__Reldep.html">Reldep</a> *rd = <a class="code" href="pool_8h.html#a7f1a1ed4e318be6edd66e5d94d7912bb">GETRELDEP</a>(pool, dep);
<a name="l00318"></a>00318       <span class="keywordflow">if</span> (rd-&gt;<a class="code" href="struct__Reldep.html#a05495175469a6853de6455b96ad1b2f4">flags</a> == <a class="code" href="pool_8h.html#a9ac9bdbe363e6214d52ba84044185f17">REL_AND</a>)
<a name="l00319"></a>00319         {
<a name="l00320"></a>00320           <span class="keywordflow">if</span> (!<a class="code" href="solver_8h.html#a2574e4c44648d827960e0ac005838f3f">solver_dep_fulfilled</a>(solv, rd-&gt;<a class="code" href="struct__Reldep.html#a0fa6e0cb741e79dcd2e92d9e65cf8ce5">name</a>))
<a name="l00321"></a>00321             <span class="keywordflow">return</span> 0;
<a name="l00322"></a>00322           <span class="keywordflow">return</span> <a class="code" href="solver_8h.html#a2574e4c44648d827960e0ac005838f3f">solver_dep_fulfilled</a>(solv, rd-&gt;<a class="code" href="struct__Reldep.html#ae2f8a0a4b825a136c57b3f447e0007d0">evr</a>);
<a name="l00323"></a>00323         }
<a name="l00324"></a>00324       <span class="keywordflow">if</span> (rd-&gt;<a class="code" href="struct__Reldep.html#a05495175469a6853de6455b96ad1b2f4">flags</a> == <a class="code" href="pool_8h.html#a1bd7c2b318685c04b52146ed6f193244">REL_NAMESPACE</a> &amp;&amp; rd-&gt;<a class="code" href="struct__Reldep.html#a0fa6e0cb741e79dcd2e92d9e65cf8ce5">name</a> == NAMESPACE_SPLITPROVIDES)
<a name="l00325"></a>00325         <span class="keywordflow">return</span> <a class="code" href="solver_8c.html#a286f6deaa18777ff50e4fb5470e162e1">solver_splitprovides</a>(solv, rd-&gt;<a class="code" href="struct__Reldep.html#ae2f8a0a4b825a136c57b3f447e0007d0">evr</a>);
<a name="l00326"></a>00326       <span class="keywordflow">if</span> (rd-&gt;<a class="code" href="struct__Reldep.html#a05495175469a6853de6455b96ad1b2f4">flags</a> == <a class="code" href="pool_8h.html#a1bd7c2b318685c04b52146ed6f193244">REL_NAMESPACE</a> &amp;&amp; rd-&gt;<a class="code" href="struct__Reldep.html#a0fa6e0cb741e79dcd2e92d9e65cf8ce5">name</a> == NAMESPACE_INSTALLED)
<a name="l00327"></a>00327         <span class="keywordflow">return</span> <a class="code" href="solver_8c.html#a148a1d7ed3fec78b572511e61d7d128e">solver_dep_installed</a>(solv, rd-&gt;<a class="code" href="struct__Reldep.html#ae2f8a0a4b825a136c57b3f447e0007d0">evr</a>);
<a name="l00328"></a>00328     }
<a name="l00329"></a>00329   <a class="code" href="pool_8h.html#a6529dc5dd039f8d1019aa2e6f9a9011f">FOR_PROVIDES</a>(p, pp, dep)
<a name="l00330"></a>00330     {
<a name="l00331"></a>00331       <span class="keywordflow">if</span> (solv-&gt;<a class="code" href="struct__Solver.html#a2554a6d5fcef4960540b0b89cf96ee1f">decisionmap</a>[p] &gt; 0)
<a name="l00332"></a>00332         <span class="keywordflow">return</span> 1;
<a name="l00333"></a>00333     }
<a name="l00334"></a>00334   <span class="keywordflow">return</span> 0;
<a name="l00335"></a>00335 }
<a name="l00336"></a>00336 
<a name="l00337"></a>00337 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span>
<a name="l00338"></a><a class="code" href="solver_8h.html#a050f8de56c4c6c9c94ab364e6cfa63f4">00338</a> <a class="code" href="solver_8h.html#a050f8de56c4c6c9c94ab364e6cfa63f4">solver_is_supplementing</a>(<a class="code" href="struct__Solver.html">Solver</a> *solv, <a class="code" href="struct__Solvable.html">Solvable</a> *s)
<a name="l00339"></a>00339 {
<a name="l00340"></a>00340   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> sup, *supp;
<a name="l00341"></a>00341   <span class="keywordflow">if</span> (!s-&gt;<a class="code" href="struct__Solvable.html#a79c815d6fb1a42d4c4de10411d87de82">supplements</a>)
<a name="l00342"></a>00342     <span class="keywordflow">return</span> 0;
<a name="l00343"></a>00343   supp = s-&gt;<a class="code" href="struct__Solvable.html#a15e0b77fe061c6429a24215191b10f05">repo</a>-&gt;<a class="code" href="struct__Repo.html#afddcfa36231cc08266800bee5b978528">idarraydata</a> + s-&gt;<a class="code" href="struct__Solvable.html#a79c815d6fb1a42d4c4de10411d87de82">supplements</a>;
<a name="l00344"></a>00344   <span class="keywordflow">while</span> ((sup = *supp++) != 0)
<a name="l00345"></a>00345     <span class="keywordflow">if</span> (<a class="code" href="solver_8h.html#a2574e4c44648d827960e0ac005838f3f">solver_dep_fulfilled</a>(solv, sup))
<a name="l00346"></a>00346       <span class="keywordflow">return</span> 1;
<a name="l00347"></a>00347   <span class="keywordflow">return</span> 0;
<a name="l00348"></a>00348 }
<a name="l00349"></a>00349 
<a name="l00350"></a>00350 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span>
<a name="l00351"></a><a class="code" href="solver_8h.html#a41d29d61ffc7a1c5422ce867284902db">00351</a> <a class="code" href="solver_8h.html#a41d29d61ffc7a1c5422ce867284902db">solver_is_enhancing</a>(<a class="code" href="struct__Solver.html">Solver</a> *solv, <a class="code" href="struct__Solvable.html">Solvable</a> *s)
<a name="l00352"></a>00352 {
<a name="l00353"></a>00353   <a class="code" href="pooltypes_8h.html#a2e0e6278ac51842ca3aeb53e3fc3ead6">Id</a> enh, *enhp;
<a name="l00354"></a>00354   <span class="keywordflow">if</span> (!s-&gt;<a class="code" href="struct__Solvable.html#aabcd1942ec228c6eceed9d2c16204833">enhances</a>)
<a name="l00355"></a>00355     <span class="keywordflow">return</span> 0;
<a name="l00356"></a>00356   enhp = s-&gt;<a class="code" href="struct__Solvable.html#a15e0b77fe061c6429a24215191b10f05">repo</a>-&gt;<a class="code" href="struct__Repo.html#afddcfa36231cc08266800bee5b978528">idarraydata</a> + s-&gt;<a class="code" href="struct__Solvable.html#aabcd1942ec228c6eceed9d2c16204833">enhances</a>;
<a name="l00357"></a>00357   <span class="keywordflow">while</span> ((enh = *enhp++) != 0)
<a name="l00358"></a>00358     <span class="keywordflow">if</span> (<a class="code" href="solver_8h.html#a2574e4c44648d827960e0ac005838f3f">solver_dep_fulfilled</a>(solv, enh))
<a name="l00359"></a>00359       <span class="keywordflow">return</span> 1;
<a name="l00360"></a>00360   <span class="keywordflow">return</span> 0;
<a name="l00361"></a>00361 }
<a name="l00362"></a>00362 
<a name="l00363"></a>00363 <span class="keywordtype">void</span> <a class="code" href="solver_8c.html#a5e05ab89635ac4c126dae8f714cbf5ec">solver_calc_duchanges</a>(<a class="code" href="struct__Solver.html">Solver</a> *solv, <a class="code" href="struct__DUChanges.html">DUChanges</a> *mps, <span class="keywordtype">int</span> nmps);
<a name="l00364"></a>00364 <span class="keywordtype">int</span> <a class="code" href="solver_8c.html#a1e7a7bba654dd68589ff78d96d548ee7">solver_calc_installsizechange</a>(<a class="code" href="struct__Solver.html">Solver</a> *solv);
<a name="l00365"></a>00365 <span class="keywordtype">void</span> <a class="code" href="solver_8c.html#acc2cc06b09aca2762d15343154b8e8a7">solver_trivial_installable</a>(<a class="code" href="struct__Solver.html">Solver</a> *solv, <a class="code" href="struct__Queue.html">Queue</a> *pkgs, <a class="code" href="struct__Queue.html">Queue</a> *res);
<a name="l00366"></a>00366 
<a name="l00367"></a>00367 <span class="keywordtype">void</span> <a class="code" href="solver_8h.html#aed17ca72adc002f7022c5b338ea8768e">solver_find_involved</a>(<a class="code" href="struct__Solver.html">Solver</a> *solv, <a class="code" href="struct__Queue.html">Queue</a> *installedq, <a class="code" href="struct__Solvable.html">Solvable</a> *s, <a class="code" href="struct__Queue.html">Queue</a> *q);
<a name="l00368"></a>00368 
<a name="l00369"></a>00369 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00370"></a><a class="code" href="solver_8h.html#a805572a7a2ef1f137bef31f44ccc0fb5">00370</a> <a class="code" href="solver_8h.html#a805572a7a2ef1f137bef31f44ccc0fb5">solver_create_state_maps</a>(<a class="code" href="struct__Solver.html">Solver</a> *solv, <a class="code" href="struct__Map.html">Map</a> *installedmap, <a class="code" href="struct__Map.html">Map</a> *conflictsmap)
<a name="l00371"></a>00371 {
<a name="l00372"></a>00372   <a class="code" href="pool_8h.html#a63aec1b657b27872c1331015571a2fed">pool_create_state_maps</a>(solv-&gt;<a class="code" href="struct__Solver.html#aa5df779fdf9b25650a76796827daf52c">pool</a>, &amp;solv-&gt;<a class="code" href="struct__Solver.html#a4314de5a9845a917ae438e32800763e4">decisionq</a>, installedmap, conflictsmap);
<a name="l00373"></a>00373 }
<a name="l00374"></a>00374 
<a name="l00375"></a>00375 <span class="comment">/* iterate over all literals of a rule */</span>
<a name="l00376"></a>00376 <span class="comment">/* WARNING: loop body must not relocate whatprovidesdata, e.g. by</span>
<a name="l00377"></a>00377 <span class="comment"> * looking up the providers of a dependency */</span>
<a name="l00378"></a><a class="code" href="solver_8h.html#aaa005f1719c1933f70d85f7fb11d2051">00378</a> <span class="preprocessor">#define FOR_RULELITERALS(l, dp, r)                              \</span>
<a name="l00379"></a>00379 <span class="preprocessor">    for (l = r-&gt;d &lt; 0 ? -r-&gt;d - 1 : r-&gt;d,                       \</span>
<a name="l00380"></a>00380 <span class="preprocessor">         dp = !l ? &amp;r-&gt;w2 : pool-&gt;whatprovidesdata + l,         \</span>
<a name="l00381"></a>00381 <span class="preprocessor">         l = r-&gt;p; l; l = (dp != &amp;r-&gt;w2 + 1 ? *dp++ : 0))</span>
<a name="l00382"></a>00382 <span class="preprocessor"></span>
<a name="l00383"></a>00383 <span class="comment">/* iterate over all packages selected by a job */</span>
<a name="l00384"></a><a class="code" href="solver_8h.html#a7151d45bb4eb0dfff692b844356daad7">00384</a> <span class="preprocessor">#define FOR_JOB_SELECT(p, pp, select, what)                                     \</span>
<a name="l00385"></a>00385 <span class="preprocessor">    if (select == SOLVER_SOLVABLE_REPO || select == SOLVER_SOLVABLE_ALL)        \</span>
<a name="l00386"></a>00386 <span class="preprocessor">        p = pp = 0;                                                             \</span>
<a name="l00387"></a>00387 <span class="preprocessor">    else for (pp = (select == SOLVER_SOLVABLE ? 0 :                             \</span>
<a name="l00388"></a>00388 <span class="preprocessor">               select == SOLVER_SOLVABLE_ONE_OF ? what :                        \</span>
<a name="l00389"></a>00389 <span class="preprocessor">               pool_whatprovides(pool, what)),                                  \</span>
<a name="l00390"></a>00390 <span class="preprocessor">         p = (select == SOLVER_SOLVABLE ? what : pool-&gt;whatprovidesdata[pp++]) ; p ; p = pool-&gt;whatprovidesdata[pp++]) \</span>
<a name="l00391"></a>00391 <span class="preprocessor">      if (select != SOLVER_SOLVABLE_NAME || pool_match_nevr(pool, pool-&gt;solvables + p, what))</span>
<a name="l00392"></a>00392 <span class="preprocessor"></span>
<a name="l00393"></a>00393 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00394"></a>00394 <span class="preprocessor"></span>}
<a name="l00395"></a>00395 <span class="preprocessor">#endif</span>
<a name="l00396"></a>00396 <span class="preprocessor"></span>
<a name="l00397"></a>00397 <span class="preprocessor">#endif </span><span class="comment">/* SATSOLVER_SOLVER_H */</span>
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Sun Oct 17 2010 15:21:23 for satsolver by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
